{"version":3,"sources":["webpack://UnataWidgets/./app/angular/components/compareCart/compareCartState.controller.js"],"names":["angular","module","controller","$scope","$stateParams","auth","cartService","compareCartService","lang","mobileService","redirectService","mobile","cartCompareLoaded","fetch","then","compareCart","store_id","updatedStoreId","canProceed","redirect","goToRedirectUrl","href","state","updateStoreAndRedirect","update"],"mappings":"oIAAA,gDAEeA,cACZC,OAAO,mCAAoC,IAC3CC,WACC,6BAHW,4GAIX,SACEC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GAEAP,EAAOQ,OAASF,EAChBN,EAAOS,mBAAoB,EAE3BN,EACGO,QACAC,KAAK,IACGP,EAAmBQ,aAAY,EAAM,QAAS,CACnDC,SAAUZ,EAAaa,kBAG1BH,KAAK,KACJX,EAAOe,WAAaX,EAAmBW,WACvCf,EAAOS,mBAAoB,IAG/BT,EAAOgB,SAAW,KAChBT,EAAgBU,gBACd,CAAEC,KAAMjB,GAAgBA,EAAae,UACrC,CAAEG,MAAO,iBAIbnB,EAAOoB,uBAAyB,KAC9BlB,EAAKmB,OAAO,CAAER,SAAUZ,EAAaa,iBAAkBH,KAAK,KAC1DJ,EAAgBU,gBACd,CAAEC,KAAMjB,GAAgBA,EAAae,UACrC,CAAEG,MAAO","file":"compareCartStateController.js","sourcesContent":["import angular from 'angular'\n\nexport default angular\n  .module('CompareCartStateControllerModule', [])\n  .controller(\n    'CompareCartStateController',\n    function (\n      $scope,\n      $stateParams,\n      auth,\n      cartService,\n      compareCartService,\n      lang,\n      mobileService,\n      redirectService\n    ) {\n      $scope.mobile = mobileService\n      $scope.cartCompareLoaded = false\n\n      cartService\n        .fetch()\n        .then(() => {\n          return compareCartService.compareCart(true, 'store', {\n            store_id: $stateParams.updatedStoreId,\n          })\n        })\n        .then(() => {\n          $scope.canProceed = compareCartService.canProceed\n          $scope.cartCompareLoaded = true\n        })\n\n      $scope.redirect = () => {\n        redirectService.goToRedirectUrl(\n          { href: $stateParams && $stateParams.redirect },\n          { state: 'cartCompare' }\n        )\n      }\n\n      $scope.updateStoreAndRedirect = () => {\n        auth.update({ store_id: $stateParams.updatedStoreId }).then(() => {\n          redirectService.goToRedirectUrl(\n            { href: $stateParams && $stateParams.redirect },\n            { state: 'cartCompare' }\n          )\n        })\n      }\n    }\n  )\n"],"sourceRoot":""}