(window.webpackJsonpUnataWidgets=window.webpackJsonpUnataWidgets||[]).push([[97],{"3664b8938cb447cc6104":function(e,t,n){"use strict";n.r(t);var i=n("8af190b70a6bc55c6f1b"),r=n("c72272a7287d0d0d7bf8"),o=n("2befd5a067fda4f72081"),c=n("9a0b4e03ea3c43527074");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s=Object(r.hb)(e=>({root:{display:"flex",flexDirection:"column"},lineItem:{display:"flex",flexDirection:"column",margin:r.pb.toPx`${e.size.spacing.xxSmall} 0`},lineRow:{display:"flex",flexDirection:"row",justifyContent:"space-between"},itemTitle:{display:"flex",alignItems:"center"},freeText:{textTransform:"uppercase"},tooltipIcon:{paddingLeft:e.size.spacing.xxxSmall,color:e.color.neutral.grey3,display:"flex",alignItems:"center"},previousValueText:{paddingLeft:e.size.spacing.xxxSmall},divider:{boxSizing:"border-box",backgroundColor:e.color.border.light,width:"100%",height:1,border:"none",margin:r.pb.toPx`${e.size.spacing.xSmall} 0`},description:{backgroundColor:e.color.neutral.grey1,color:e.color.text.primary,borderRadius:e.border.radius.small,marginTop:e.size.spacing.xSmall,padding:e.size.spacing.xxSmall,fontSize:e.size.font.caption},subItem:{display:"flex",flexDirection:"column",alignItems:"flex-start",alignContent:"flex-start",margin:r.pb.toPx`${e.size.spacing.xxSmall} 0`,paddingLeft:e.size.spacing.xxSmall},subItemText:{fontSize:e.size.font.caption,color:e.color.text.secondary},toggleButton:{border:"none",margin:r.pb.toPx`0 0 0 ${e.size.spacing.xxSmall}`,padding:"1px 0 0 0",display:"flex",justifyContent:"center",background:"transparent",cursor:"pointer"},dlMarginOverride:{margin:"0"}}),{displayName:"OrderTotals"}),b=e=>{const t=r.pb.formatCurrency(Math.abs(e));return e<0?`-${t}`:t},d=e=>{const t=s(e),{label:n,value:i,description:o}=e;return Object(c.c)("div",{css:t.subItem,children:[Object(c.c)(r.ab,{bold:!0,css:t.subItemText,children:[n,": ",b(i)]}),o&&Object(c.b)(r.ab,{css:t.subItemText,children:o})]})},p=e=>{const{langAria:t,lang:n}=o.e.selectors.getConfig(),p=s(e),{boldLabels:u,lineItems:g}=e,[f,m]=Object(i.useState)([]);return Object(c.b)("div",{css:p.root,children:Object(c.b)("ul",{"data-test":"totals-line-item-container",children:g.map((e,i)=>{const o=`totals-line-item-${i}`;if("value"===e.type){const g=e.subItems&&e.subItems.length>0,x=e.showFreeIfZero&&0===e.value,O=f.includes(i);return Object(c.b)("li",{children:Object(c.c)("div",{css:p.lineItem,"aria-describedby":e.tooltip?`${o}-tooltip`:void 0,"data-test":o,children:[Object(c.c)("div",{css:p.lineRow,children:[Object(c.c)("div",{css:p.itemTitle,children:[Object(c.b)(r.ab,{bold:u,component:"span",variant:"body",id:`${o}-label`,children:e.label}),e.tooltip&&Object(c.b)(r.fb,{autoAdjust:!0,content:Object(c.b)("span",{id:`${o}-tooltip`,children:e.tooltip}),children:Object(c.b)("span",{css:p.tooltipIcon,children:Object(c.b)(r.r,{icon:"icon-error"})})}),g&&Object(c.b)("button",{onClick:(s=i,()=>{f.includes(s)?m(f.filter(e=>e!==s)):m([...f,s])}),css:p.toggleButton,"aria-label":t.toggleFeeBreakdown,"aria-expanded":O,"data-test":`${o}-toggle-button`,children:Object(c.b)(r.r,{icon:`icon-chevron-${O?"up":"down"}`})})]}),Object(c.c)("div",{children:[Object(c.b)(r.ab,{component:"span",bold:void 0!==e.previousValue||x,variant:"body",color:x?"success":void 0,children:x?Object(c.b)("span",{css:p.freeText,children:n.free}):b(e.value)}),void 0!==e.previousValue&&Object(c.b)(r.ab,{css:p.previousValueText,component:"span",variant:"body",children:Object(c.b)("s",{children:b(e.previousValue)})})]})]}),e.description&&Object(c.b)("div",{css:p.lineRow,children:Object(c.b)("div",{css:p.description,dangerouslySetInnerHTML:{__html:e.description}})}),O&&e.subItems&&e.subItems.length>0&&e.subItems.map(e=>Object(c.b)(d,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),e.label))]},o)},o)}var s;return"divider"===e.type?Object(c.b)("hr",{css:p.divider},o):null})})})};var u=Object(i.memo)(p);t.default=u}}]);