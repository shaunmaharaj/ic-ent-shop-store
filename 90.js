(window.webpackJsonpUnataWidgets=window.webpackJsonpUnataWidgets||[]).push([[90],{f51af12e223b8c597623:function(e,r,t){"use strict";t.r(r),t.d(r,"Barcode",(function(){return f})),t.d(r,"LoyaltyBarcode",(function(){return N})),t.d(r,"UserLoyaltyBarcode",(function(){return P}));var a=t("8af190b70a6bc55c6f1b"),o=t("9679dd7b189e5b280804"),c=t.n(o),n=t("9a0b4e03ea3c43527074");const b=["value","options","alt"];function d(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,a)}return t}function i(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?d(Object(t),!0).forEach((function(r){s(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function s(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function l(e,r){if(null==e)return{};var t,a,o=function(e,r){if(null==e)return{};var t,a,o={},c=Object.keys(e);for(a=0;a<c.length;a++)t=c[a],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)t=c[a],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}const u=e=>{const{value:r,options:t,alt:o="Barcode"}=e,d=l(e,b),s=Object(a.createRef)();return Object(a.useEffect)(()=>{c()(s.current,r,i({},t))},[s,t,r]),Object(n.b)("img",i({ref:s,alt:o},d))};var f=Object(a.memo)(u),m=t("2befd5a067fda4f72081"),p=t("c72272a7287d0d0d7bf8"),g=t("3efaadfc952e5a983068");const O=Object(p.hb)(e=>({root:{padding:0},barcode:{display:"block",width:202,height:60,marginLeft:"auto",marginRight:"auto",overflow:"hidden",textAlign:"center"},label:{textAlign:"center",padding:e.size.spacing.xSmall,lineHeight:1.2,fontSize:e.size.font.large,fontWeight:e.font.weight.bold-100,[p.pb.mediaQuery.minWidth(e.breakpoint.medium)]:{padding:e.size.spacing.xSmall,fontSize:e.size.font.caption-1}}}),{displayName:"LoyaltyBarcode"}),y=e=>{const{cardNumber:r,barcodeNumber:t,useBarcodeNumberLabel:a}=e,o=O(e),{loyaltyCardNumber:c}=m.e.selectors.getLang(),b=m.e.selectors.getConfig(),{showLabel:d,jsBarcodeOptions:i,formatting:s,showBarcode:l}=b.loyaltyBarcode,{formattedCardNumber:u,displayedCardNumber:y}=function(e,r){const{prepend:t,wrapWithAsterisks:a}=r;let o=e,c=e;return t&&t.prefix&&(c=`${t.prefix}${e}`,t.visible&&(o=c)),a&&(c=`*${c}*`),{formattedCardNumber:c,displayedCardNumber:o}}(r,s),j=t&&t.length>0?t:u,h=m.g.interpolate(c,{cardNumber:a&&t?t:y}),v=Object(n.b)(p.ab,{css:o.label,component:"div","data-test":"barcode-label",children:h});return Object(n.b)("div",{css:o.root,children:Object(n.c)(g.a,{fallback:v,children:[l&&Object(n.b)(f,{css:o.barcode,value:j,options:i}),d&&v]},j)})};var j=Object(a.memo)(y);const h=e=>{const{cardNumber:r,barcodeImage:t,barcodeNumber:a,useBarcodeNumberLabel:o}=e,c=O(e),{loyaltyCardNumber:b}=m.e.selectors.getLang(),d=m.e.selectors.getConfig(),{showLabel:i,showBarcode:s}=d.loyaltyBarcode,l=m.g.interpolate(b,{cardNumber:o&&a?a:r});return Object(n.c)("div",{css:c.root,children:[s&&t&&t.length>0&&Object(n.b)("img",{css:c.barcode,src:t,alt:"Barcode"}),i&&Object(n.b)(p.ab,{css:c.label,component:"div","data-test":"barcode-label",children:l})]})};var v=Object(a.memo)(h);const w=({card:e,useBarcodeNumberLabel:r})=>{const{card_number:t,barcode_number:a,barcode_image:o}=e;return m.e.selectors.getConfig().useLoyaltyBarcodeComponent?Object(n.b)(j,{cardNumber:t,barcodeNumber:a||void 0,useBarcodeNumberLabel:r}):Object(n.b)(v,{cardNumber:t,barcodeImage:o,barcodeNumber:a||void 0,useBarcodeNumberLabel:r})};var N=Object(a.memo)(w),B=t("600c0ffbf4e0cd64805d");const L=()=>{const{isLoading:e}=Object(B.d)({suspense:!1});if(e)return Object(n.b)(p.D,{shape:"square",height:100,width:200});const r=m.b.selectors.getPrimaryLoyaltyCard();return r?Object(n.b)(N,{card:r}):null};var P=Object(a.memo)(L)}}]);