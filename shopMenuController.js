(window.webpackJsonpUnataWidgets=window.webpackJsonpUnataWidgets||[]).push([[44],{"568462fdcb6cd8bd80a9":function(e,t,r){"use strict";r.r(t);var i=r("3dde4251a4e36fb3d2d7"),n=r.n(i),a=r("6a55381db84a511b309a"),s=r.n(a),o=r("46f8f4ccfe1b73ca4d0c"),c=r.n(o);t.default=c.a.module("ShopMenuControllerComponentModule",[]).controller("ShopMenuController",["$element","$location","$q","$rootScope","$scope","$state","$stateParams","$timeout","$window","config","eComLightService","facetedSearchService","mobileService","tagsService","tree","utilService",function(e,t,r,i,a,o,c,l,d,h,g,u,p,b,f,m){a.config=h,a.state=o,a.tree=f,a.utilService=m,a.hideFacets=!0,a.showSiblings=s()(f.siblings,e=>m.stateIs(e.state,e.params,f.current.state,f.current.params))&&(!a.tree.children||!a.tree.children.length),a.idAttrs={};const S=e=>{return t=`catalog-nav-${e.state.replace(".","-")}`,(r=e.params)&&(r.category_id||r.recipe_category_id)?`${t}-${r.category_id||r.recipe_category_id}`:t;var t,r};f.parents&&(a.idAttrs.parents=n()(f.parents,S)),a.showSiblings&&(a.idAttrs.siblings=n()(f.siblings,S)),f.children&&f.children.length>0?(a.idAttrs.current=S(f.current),a.idAttrs.children=n()(f.children,S)):a.showSiblings||(a.idAttrs.current=S(f.current)),(h.enableFacetedSearchFilters||h.enableICSearch)&&u.getAllFacets(c).then(e=>{var t;a.sideFacetsArray=null===(t=u.categorizedFacetsObject)||void 0===t?void 0:t.sideFilters.filter(e=>e.items.length>0),a.hideFacets=e.hideFacets||!b.useFacetedFilters()||0===a.sideFacetsArray.length,i.$broadcast("facetsDataReceived",e)}).catch(()=>{a.hideFacets=!0}),p.isMobile&&a.showSiblings&&l(()=>{const t=e[0].querySelector(".js-mobile-shop-menu");if(t){const e=t.querySelector(".current"),r=window.innerWidth>0?window.innerWidth:screen.width;e&&(t.scrollLeft=e.offsetLeft-(r-e.offsetWidth)/2)}},0),a.navigateToUrl=e=>{"/"==e?o.go("main.home"):e.match(/^\//)?t.path(e):m.isLinkInternal(e)?m.openInternalUrl(e):d.open(e,"_self")},a.go=function(t,r,i){null==i||i.preventDefault(),null==i||i.stopPropagation(),m.stateIs(t,r)||e.addClass("going"),o.go(t,r)},a.resetFacets=()=>{u.resetTagCrumbs(),o.go(".",{page:null,brand_name:null,tags:null})},a.shouldShowReset=()=>u.tagCrumbsArray.length>0,a.isNonEComLightChild=e=>!h.eComLight.enabled||(null==g?void 0:g.isNonEComLightCategory(e))}])}}]);