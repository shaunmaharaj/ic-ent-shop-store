(window.webpackJsonpUnataWidgets=window.webpackJsonpUnataWidgets||[]).push([[49],{aad5fc62a034cf445a7f:function(t,e,o){"use strict";o.r(e);var n=o("a1cf5d6fa4ed65a6ddd5"),a=o.n(n),s=o("b796ef2ed541651327a0"),i=o.n(s),m=o("98f11010eed1f30a67e8"),c=o.n(m),u=o("46f8f4ccfe1b73ca4d0c"),l=o.n(u);e.default=l.a.module("SubstitutionsControllerModule",[]).controller("SubstitutionsController",["$scope","Restangular","analytics","auth","config","imageURLService","productDetailsModal",function(t,e,o,n,s,m,u){t.config=s,t.allow=n.user.always_allow_substitution,t.categorizedItemComments=null,t.productDetailsModal=u,t.imageURLService=m,t.updateGlobalSubstitutions=function(t){o.logEvent("account substitutions","submit"),n.update({always_allow_substitution:t})},t.getCategorizedItemComments=function(){e.all("item_comments").getList().then(e=>{const o=c()(e,"store_product.categories[0]");t.categorizedItemComments=i()(o,t=>t.store_product.categories[0]?t.store_product.categories[0].name:"")})},t.updateItemComment=function(t){e.one("item_comments",t.id).customPUT({comment:t.comment,allow_sub:t.allow_sub})},t.deleteItemComment=function(o){e.one("item_comments",o).remove().then(()=>{t.getCategorizedItemComments()})},t.hasComments=function(){return!a()(t.categorizedItemComments)},t.getCategorizedItemComments()}])}}]);