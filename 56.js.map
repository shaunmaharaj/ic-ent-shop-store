{"version":3,"sources":["webpack://UnataWidgets/./node_modules/keen-slider/react.js","webpack://UnataWidgets/./app/utils/images/escapeImageUrl.ts","webpack://UnataWidgets/./app/utils/isMobileContainerUrl.ts","webpack://UnataWidgets/./app/react/components/heroBanner/HeroBanner.tsx","webpack://UnataWidgets/./app/services/placements/constants.ts","webpack://UnataWidgets/./app/react/components/homepageCollections/HomepageParameterCollections.tsx","webpack://UnataWidgets/./app/react/components/homepageCollections/HomepagePlacementCollections.tsx","webpack://UnataWidgets/./app/react/components/homepageCollections/HomepageCollectionsContainer.tsx","webpack://UnataWidgets/./app/services/collections/utils.ts","webpack://UnataWidgets/./app/react/components/buyItAgainCollection/BuyItAgainCollection.tsx","webpack://UnataWidgets/./app/react/components/featuredCollection/FeaturedCollection.tsx","webpack://UnataWidgets/./app/react/components/reactBanner/ReactBanner.tsx","webpack://UnataWidgets/./app/react/pages/home/HomeDesktopView.tsx","webpack://UnataWidgets/./app/react/pages/HomePage.tsx","webpack://UnataWidgets/./app/react/components/homepageCollections/HomepageCollection.tsx","webpack://UnataWidgets/./app/services/userList/selectors.ts","webpack://UnataWidgets/./app/utils/getHtml5Url.js","webpack://UnataWidgets/./app/react/ids/enterprise/molecules/CollectionLoader/CollectionLoader.tsx","webpack://UnataWidgets/./app/react/ids/enterprise/molecules/CollectionLoader/CollectionLoaderHeader.tsx","webpack://UnataWidgets/./app/react/ids/enterprise/molecules/CarouselLoader/CarouselLoader.tsx","webpack://UnataWidgets/./app/react/common/collection/ProductCollectionLoader.tsx","webpack://UnataWidgets/./app/services/collections/constants.ts","webpack://UnataWidgets/./app/services/canvas/utils.ts","webpack://UnataWidgets/./app/react/components/homepageBanners/BannerImage.tsx","webpack://UnataWidgets/./app/react/components/homepageBanners/BannerLayout.tsx","webpack://UnataWidgets/./app/react/components/homepageBanners/Banner.tsx","webpack://UnataWidgets/./app/react/components/homepageBanners/Banners.tsx","webpack://UnataWidgets/./app/react/components/homepageBanners/BannersLayout.tsx","webpack://UnataWidgets/./app/react/components/homepageBanners/MobileHomepageBanners.tsx","webpack://UnataWidgets/./app/react/components/homepageBanners/HomepageBanners.tsx","webpack://UnataWidgets/./app/services/homepageBanners/api.ts","webpack://UnataWidgets/./app/react/components/categories/CategoryCard.tsx","webpack://UnataWidgets/./app/react/ids/enterprise/molecules/LoadingLockups/bases/animations.ts","webpack://UnataWidgets/./app/react/components/categories/CategoryCardCollection.tsx","webpack://UnataWidgets/./app/services/catalog/hooks.ts","webpack://UnataWidgets/./app/react/common/SectionTitle.tsx","webpack://UnataWidgets/./app/react/components/categories/ShopByAisle.tsx","webpack://UnataWidgets/./app/react/components/slider/Slider.tsx","webpack://UnataWidgets/./app/utils/currency.ts","webpack://UnataWidgets/./app/react/components/waysToShop/TagItem.tsx","webpack://UnataWidgets/./app/react/components/waysToShop/WaysToShop.tsx","webpack://UnataWidgets/./app/services/tags/hooks.ts","webpack://UnataWidgets/./app/utils/placements.js","webpack://UnataWidgets/./app/react/common/Section.tsx","webpack://UnataWidgets/./app/utils/images/productImages.ts","webpack://UnataWidgets/./app/services/collections/api.ts","webpack://UnataWidgets/./app/services/collections/hooks.ts","webpack://UnataWidgets/./app/services/product/selectors.ts","webpack://UnataWidgets/./app/services/util/utils.ts"],"names":["t","e","n","Object","defineProperty","value","enumerable","configurable","writable","r","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","push","apply","i","arguments","length","forEach","getOwnPropertyDescriptors","defineProperties","o","Array","isArray","Symbol","iterator","a","u","next","done","return","TypeError","c","from","prototype","toString","call","slice","constructor","name","test","f","s","h","v","p","b","m","g","y","w","M","j","O","S","A","x","k","P","E","T","D","C","L","I","V","X","Y","_","q","z","F","H","R","K","W","N","U","$","addEventListener","B","Z","ft","et","rt","J","Kt","cancelable","preventDefault","Math","abs","setAttribute","Xt","Gt","lt","timeStamp","G","nt","target","pt","ut","removeAttribute","gt","Q","changedTouches","tt","identifier","targetTouches","ht","screenY","pageY","screenX","pageX","timestamp","hasAttribute","preventEvent","clientY","clientX","it","ot","window","Dt","Tt","cancelOnLeave","passive","at","removeEventListener","ct","centered","controls","st","loop","rtl","dt","rubberband","vertical","vt","requestAnimationFrame","bt","cancelAnimationFrame","mt","Yt","Ot","mode","Mt","jt","yt","wt","sign","duration","St","Ft","zt","friction","pow","floor","ceil","At","l","xt","breakpoints","matchMedia","matches","Bt","Et","kt","autoAdjustSlidesPerView","max","d","Pt","Ct","innerWidth","slides","dragSpeed","offsetHeight","offsetWidth","slidesPerView","spacing","It","resetSlide","initial","$t","_t","setTimeout","Vt","Lt","distance","concat","style","transform","removeProperty","Date","now","Rt","Nt","Wt","qt","direction","progressTrack","progressSlides","positions","position","speed","relativeSlide","absoluteSlide","size","widthOrHeight","Ht","clearTimeout","time","reduce","Ut","portion","round","destroy","refresh","prev","moveToSlide","moveToSlideRelative","resize","details","options","document","querySelectorAll","HTMLElement","NodeList","min","indexOf","hasOwnProperty","default","useKeenSlider","useRef","current","useState","useEffect","exports","escapeImageUrl","path","escapeParentheses","escaped","encodeURI","replace","url","includes","protocol","hostname","startsWith","isMobileApp","handleClick","banner","index","isMobile","category","analytics","log","data","action","label","id","event","eventEmitter","emit","EVENT_TYPES","LOG_PROMOTED_PLACEMENT","location","placement","getBannerAlt","defaultAlt","media","alt_text","undefined","type","collection","description","product","getBannerImage","image","imageTransform","useStyles","createStyles","theme","loader","backgroundColor","colors","systemGrayscale20","height","mobile","paddingLeft","s16","paddingRight","singleBanner","width","singleBannerImage","objectFit","objectPosition","singleBannerLink","display","flexDirection","overflow","singleBannerMobile","slider","margin","s32","sliderBanner","maxWidth","sliderNarrowWidth","HeroBanner","config","useConfig","styles","langAria","useLangAria","useIsMobile","expressHeroBanner","useExpressHeroBannerPlacement","sliderEnabled","homepageHeroBannerSlider","enabled","fullWidth","useSinglePlacementQuery","items","banners","useMemo","logImpression","slicedBanners","maxBanners","logPlacementImpression","placements","css","className","role","aria-busy","aria-label","loadingImage","data-test","openIn","parseContentHref","onClick","src","alt","autoplay","autoplayEnabled","autoplayDelay","showArrowControls","showAutoplayControls","roundedCorners","largeControls","onChange","map","key","HomepageParameterCollections","collectionList","list","useSelector","buyItAgainEnabledConfig","HomepageCollection","HomepagePlacementCollections","buyItAgainEnabled","isLoading","item","ProductCollectionLoader","targetId","HomepageCollectionsContainer","params","useUrlQuery","homepage","passingCollectionQueryParamsConfig","paramCollections","collections","parsed","parse","getURLPassedCollectionsList","get","BuyItAgainCollection","buyItAgainCollectionEnabled","useCollectionQuery","BIA_COLLECTION_ID","PRODUCT_LIMIT","formattedData","state","buyItAgainCollectionFormatting","useRunOnce","BUY_IT_AGAIN_LOCATION_ANALYTIICS","item_count","ProductCollection","enableViewMore","FeaturedCollection","featuredCollectionEnabledConfig","HOMEPAGE_FP_COLLECTION_ID","featuredCollectionFormatting","shouldDisplay","featuredCollectionShouldDisplay","FEATURED_PRODUCT_LOCATION_ANALYTIICS","devMode","systemGrayscale10","paddingBottom","paddingTop","textAlign","ReactBanner","HomeDesktopView","HomepageBanners","Section","WaysToShop","showMoreLink","ShopByAisle","HomePage","react","enableHomePage","userListsSelector","userLists","lists","buildConfig","getBuildConfig","getHtml5Url","env","isMobileContainerUrl","urlParser","split","webUrl","CollectionLoader","accessibleLabel","children","wrapper","getStyles","CollectionLoaderHeader","headerRow","headerText","justifyContent","CarouselLoader","ItemLoaderComp","LoadingLockupGridItem","container","itemLoaderContainer","s12","marginLeft","marginRight","s24","numItemLoaders","setNumItemLoaders","ref","containerRef","containerWidth","useResizeObserver","itemRef","itemWidth","loaderList","loading","COLLECTION_LIMIT_MULTIPLIER","SINGLE_COLLECTION_QUERY_KEY","postLog","async","href","request","body","method","captureException","impression","_links","srefToHref","configService","selectors","getConfig","isInternalLink","isLinkInternal","pathname","search","getPrependHashIfNeeded","openExternalLinksNewTab","imageDesktop","imageMobile","bottom","left","maxHeight","right","top","BannerImage","bannerContainerMobile","marginBottom","BannerLayout","bannerDesktop","backgroundPosition","backgroundRepeat","verticalAlign","bannerMobile","root","backgroundSize","borderRadius","radius","r4","Banner","BannerInstance","rel","Banners","onBannerClick","bannersDesktop","bannersMobile","padding","BannersLayout","MobileHomepageBanners","lang","useLang","enableHomepageBannerSlider","ariaName","shopHomepageBannersHeader","setBanners","numHomepageBanners","then","bannerContent","styleVariables","createStyleVariables","color","variables","img","imgHolder","link","background","border","r12","subCategoryLink","textDecoration","systemGrayscale70","fontSize","typography","subtitleSmall","lineHeight","subCategoryList","flexWrap","listStyleType","textAlignCenter","textAlignLeft","textTruncate","WebkitBoxOrient","WebkitLineClamp","textOverflow","title","subtitleMedium","s8","CategoryCard","showChildren","images","tile","small","textAlignStyle","categoryTile","textCentered","AppLink","clickAnalytics","to","subCategory","generateAnimatingShimmerStyles","gradientColor","systemGrayscale00","gradientStart","addAlphaToHex","gradientMid","gradientEnd","animationDuration","animationIterationCount","animationName","keyframes","animationTimingFunction","content","listCentered","listItem","loadingState","mobileList","mobileListItem","CategoryCardCollection","filterByParentId","parentId","categoriesFilteredByParentSelector","categoriesLoadingState","heading","headingText","subtitleLarge","SectionTitle","element","Element","boxed","shopByAisle","activeDot","brandPrimaryRegular","arrow","cursor","fill","arrowButton","WebkitTransform","alignItems","boxShadow","arrowDisabled","arrowLeft","svg","s4","arrowRight","minHeight","WebkitTapHighlightColor","WebkitTouchCollout","touchAction","userSelect","dot","systemGrayscale30","transition","dotLarge","dots","pause","r8","Slider","currentIndex","setCurrentIndex","setPause","forcePause","setForcePause","autoplayProps","dragEnd","dragStart","_fix","Children","count","afterChange","slide","slideChanged","pauseAutoplay","unpauseAutoplay","currentRef","timer","clearInterval","clonedChildren","child","cloneElement","slideNumberOfCount","slideCount","indexes","sliderInstructions","sliderPreviousSlide","stopPropagation","sliderNextSlide","sliderPlay","sliderPause","isActive","goToSlide","aria-current","formatCurrency","amount","Number","isNaN","formattedAmount","toFixed","goIcon","goLink","bodySmall2","icon","flex","responsive","down","infoWrapper","alignSelf","whiteSpace","bodyMedium1","roundedIcon","TagItem","linkColor","aria-hidden","shopNow","overflowX","fontStyle","header","bodyLarge2","strong","fontWeight","labelWrapper","backgroundImage","loadAssetImage","shopByTitle","tagsWrapper","tags","tagLocation","tagsSelector","shopBy","exploreMore","waysToShop","seeMore","tag","productPlacementsFromProducts","results","item_type","formatImagePlacementForAnalytics","route","insertPlacementsInProducts","products","positionedPlacements","unpositionedProductPlacements","areUnpositionedProductPlacementsFirst","unpositionedNonProductPlacements","sortedPositionedPlacements","splice","unpositionedProductPlacementsIndex","mobileRoot","marginTop","rest","getProductImageURL","storeProduct","isShoppingListItem","isRxProduct","require","store_product","imageTile","collectionId","limit","configOptions","useQuery","querystring","getOne","formatPrice","price","quantity","priceWithNumberTemplate","unit","priceString","qty","interpolate","productSelector","_state","props","shoppingCartItemSelector","cartItem","hasLoyaltyCardSelector","hasLoyaltyCard","promoDiscountSelector","createSelector","configSelector","langSelector","isMobileSelector","loyalty_price","promo_tag","sale_price","sale_end_date","loyalty_end_date","enableLoyaltyPricing","showSaleEndDate","result","isLoyalty","text","tooltipText","saleEndDate","endDate","dayjs","format","loyaltyPricing","tagTooltip","promo","promoOfferSelector","offer_title","offers","enableOfferBadgeTypes","enableOfferBadge","thereAreSupportedOffers","some","offer","offer_type","offerInside","promotionsSelector","discount","shouldShowUOMSelector","uom","uom_price","whitelist","displayPriceUnitOfMeasurementAllowlist","Boolean","pricePerUnitStringSelector","regularPriceSelector","base_price","regularPriceStringSelector","display_uom","base_quantity","priceWithQuantity","loyaltyPriceSelector","loyaltyPriceStringSelector","loyalty_quantity","salePriceSelector","salePriceStringSelector","sale_quantity","currentPriceStringSelector","regularPrice","salePrice","loyaltyPrice","hasPromoPriceSelector","loyalty","sale","discountedPriceIsConfirmedSelector","isAvailableSelector","enableOutOfStockUIBehaviour","availability","stock_level","StockLevels","OUT_OF_STOCK","isCustomizableSelector","product_config","allowOutOfStockAddSelector","authService","getUserIntent","intent","enableOutOfStockAddToCartContexts","showPriceAlertSelector","authSelectors","getUser","user","disablePriceAlerts","disablePriceAlertsOnProductCells","status","showSaveForLaterSelector","disableSaveForLaterLists","quantityInCartSelector","shoppingCartItem","maxQuantitySelector","ext_data","max_in_cart","ordering_parameters","minQuantitySelector","incrementQuantitySelector","increment","defaultAddToCartQty","qtyInCart","orderByUnitSelector","display_name","ratingSelector","product_rating","average_rating","numberOfRatingsSelector","user_count","sizeSelector","size_string","sizeWithPricePerUnitSelector","pricePerUnit","subscribedForPriceAlertSelector","price_alert","allowAddToCartSelector","_arg0","addToCartQty","defaultQtyToAdd","isAvailable","allowOOS","currentQty","qtyToAdd","allowDecrementCartQuantitySelector","decrementCartQuantityType","titleSelector","average_weight","averageWeight","avgWeight","aisleSelector","aisle","addToCartLabelSelector","FulfillmentType","InStore","addToListButtonLabel","addToCartButtonLabel","featuredLabelSelector","featured","isFeatured","showFeaturedLabel","sponsoredLabelSelector","sponsored","showSponsoredLabel","sponsoredLabel","sponsoredBy","previouslyPurchasedSelector","previouslyPurchasedLabelSelector","showLabel","buyItAgain","displayName","labelSelector","previouslyPurchased","labelTypeSelector","LabelTypes","Featured","Sponsored","Purchased","itemTileLangSelector","langAriaSelector","addToCart","addPriceAlert","customizable","decrementQuantity","incrementQuantity","or","removeItem","removePriceAlert","reviews","togglePriceAlert","saveForLaterLangSelector","ariaAddedToList","addedToList","ariaCloseButton","modalClose","ariaCreateList","createList","ariaEditList","editList","ariaLoading","ariaPopoverDisclosure","addTo","saveForLaterLists","ariaPopoverLabel","saveItemForLater","closeModalActionLabel","close","createListInputLabel","createANewList","createListInputPlaceholderText","enterNewListName","editListActionLabel","edit","popoverTitle","saveForLater","itemTileImageSizeSelector","itemTileImageSelector","imageSize","saveForLaterListsSelector","userList","selected","findItemInList","encodedURL","shouldUseHashHistory","host"],"mappings":"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","file":"56.js","sourcesContent":["/**\n * keen-slider 5.5.1\n * The HTML touch slider carousel with the most native feeling you will get.\n * https://keen-slider.io\n * Copyright 2020-2021 Eric Beyer <contact@ericbeyer.de>\n * License: MIT\n * Released on: 2021-06-10\n */\n\n!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?e(exports,require(\"react\")):\"function\"==typeof define&&define.amd?define([\"exports\",\"react\"],e):e((t=\"undefined\"!=typeof globalThis?globalThis:t||self).KeenSlider={},t.react)}(this,(function(t,e){\"use strict\";function n(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(Object(i),!0).forEach((function(e){n(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(\"undefined\"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}(t,e)||u(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function a(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||u(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function u(t,e){if(t){if(\"string\"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function f(t){var e,n,r,o,u,c,f,s,h,v,p,b,m,g,y,w,M,j,O,S,A,x,k,P,E,T,D,C,L,I,V,X,Y,_,q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},z=\"data-keen-slider-moves\",F=\"data-keen-slider-v\",H=[],R=null,K=!1,W=!1,N=0,U=[];function $(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t.addEventListener(e,n,r),H.push([t,e,n,r])}function B(t){if(j&&O===Z(t)&&ft()){var n=et(t).x;if(!rt(t)&&P)return J(t);P&&(Kt(),S=n,P=!1),t.cancelable&&t.preventDefault();var r=S-n;E+=Math.abs(r),!T&&E>5&&(T=!0,e.setAttribute(z,!0)),Xt(k(r,Gt)*(lt()?-1:1),t.timeStamp),S=n}}function G(t){j||!ft()||nt(t.target)||(j=!0,P=!0,O=Z(t),T=!1,E=0,rt(t),pt(),M=v,S=et(t).x,Xt(0,t.timeStamp),ut(\"dragStart\"))}function J(t){j&&O===Z(t,!0)&&ft()&&(e.removeAttribute(z),j=!1,gt(),ut(\"dragEnd\"))}function Q(t){return t.changedTouches}function Z(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e?Q(t):tt(t);return n?n[0]?n[0].identifier:\"error\":\"default\"}function tt(t){return t.targetTouches}function et(t){var e=tt(t);return{x:ht()?e?e[0].screenY:t.pageY:e?e[0].screenX:t.pageX,timestamp:t.timeStamp}}function nt(t){return t.hasAttribute(w.preventEvent)}function rt(t){var e=tt(t);if(!e)return!0;var n=e[0],r=ht()?n.clientY:n.clientX,i=ht()?n.clientX:n.clientY,o=void 0!==A&&void 0!==x&&Math.abs(x-i)<=Math.abs(A-r);return A=r,x=i,o}function it(t){ft()&&j&&t.preventDefault()}function ot(){$(window,\"orientationchange\",Dt),$(window,\"resize\",(function(){return Tt()})),$(e,\"dragstart\",(function(t){ft()&&t.preventDefault()})),$(e,\"mousedown\",G),$(w.cancelOnLeave?e:window,\"mousemove\",B),w.cancelOnLeave&&$(e,\"mouseleave\",J),$(window,\"mouseup\",J),$(e,\"touchstart\",G,{passive:!0}),$(e,\"touchmove\",B,{passive:!1}),$(e,\"touchend\",J,{passive:!0}),$(e,\"touchcancel\",J,{passive:!0}),$(window,\"wheel\",it,{passive:!1})}function at(){H.forEach((function(t){t[0].removeEventListener(t[1],t[2],t[3])})),H=[]}function ut(t){w[t]&&w[t](Gt)}function ct(){return w.centered}function ft(){return void 0!==n?n:w.controls}function st(){return w.loop&&r>1}function lt(){return w.rtl}function dt(){return!w.loop&&w.rubberband}function ht(){return!!w.vertical}function vt(){D=window.requestAnimationFrame(bt)}function pt(){D&&(window.cancelAnimationFrame(D),D=null),C=null}function bt(t){C||(C=t);var e=t-C,n=mt(e);if(e>=I)return Xt(L-X,!1),_?_():void ut(\"afterChange\");var r=Yt(n);if(0===r||st()||dt()||Y){if(0!==r&&dt()&&!Y)return Ot();X+=n,Xt(n,!1),vt()}else Xt(n-r,!1)}function mt(t){return L*V(t/I)-X}function gt(){switch(ut(\"beforeChange\"),w.mode){case\"free\":Mt();break;case\"free-snap\":jt();break;case\"snap\":default:yt()}}function yt(){wt((1===f&&0!==p?M:v)+Math.sign(p))}function wt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w.duration,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=function(t){return 1+--t*t*t*t*t};St(Ft(t=zt(t,r,i)),n,o,e)}function Mt(){if(0===m)return!(!Yt(0)||st())&&wt(v);var t=w.friction/Math.pow(Math.abs(m),-.5);St(Math.pow(m,2)/t*Math.sign(m),6*Math.abs(m/t),(function(t){return 1-Math.pow(1-t,5)}))}function jt(){if(0===m)return wt(v);var t=w.friction/Math.pow(Math.abs(m),-.5),e=Math.pow(m,2)/t*Math.sign(m),n=6*Math.abs(m/t),r=(N+e)/(c/f);St((-1===p?Math.floor(r):Math.ceil(r))*(c/f)-N,n,(function(t){return 1-Math.pow(1-t,5)}))}function Ot(){if(pt(),0===m)return wt(v,!0);var t=.04/Math.pow(Math.abs(m),-.5),e=Math.pow(m,2)/t*Math.sign(m),n=function(t){return--t*t*t+1},r=m;St(e,3*Math.abs(r/t),n,!0,(function(){St(Ft(zt(v)),500,n,!0)}))}function St(t,e,n,r,i){pt(),L=t,X=0,I=e,V=n,Y=r,_=i,C=null,vt()}function At(n){var r=l(t);r.length&&(e=r[0],Tt(n),ot(),ut(\"mounted\"))}function xt(){var t,e=q.breakpoints||[];for(var n in e)window.matchMedia(n).matches&&(t=n);if(t===R)return!0;var r=(R=t)?e[R]:q;r.breakpoints&&R&&delete r.breakpoints,w=i(i(i({},Bt),q),r),K=!0,h=null,ut(\"optionsChanged\"),Et()}function kt(t){if(\"function\"==typeof t)return t();var e=w.autoAdjustSlidesPerView;e||(r=Math.max(t,r));var n=st()&&e?r-1:r;return d(t,1,Math.max(n,1))}function Pt(){xt(),W=!0,ut(\"created\")}function Et(t,e){t&&(q=t),e&&(R=null),Ct(),At(e)}function Tt(t){var n=window.innerWidth;if(xt()&&(n!==h||t)){h=n;var i=w.slides;\"number\"==typeof i?(u=null,r=i):(u=l(i,e),r=u?u.length:0);var a=w.dragSpeed;k=\"function\"==typeof a?a:function(t){return t*a},c=ht()?e.offsetHeight:e.offsetWidth,f=kt(w.slidesPerView),s=d(w.spacing,0,c/(f-1)-1),c+=s,o=ct()?(c/2-c/f/2)/c:0,It();var p=!W||K&&w.resetSlide?w.initial:v;$t(st()?p:_t(p)),ht()&&e.setAttribute(F,!0),K=!1}}function Dt(t){Tt(),setTimeout(Tt,500),setTimeout(Tt,2e3)}function Ct(){at(),Vt(),e&&e.hasAttribute(F)&&e.removeAttribute(F),ut(\"destroyed\")}function Lt(){u&&u.forEach((function(t,e){var n=g[e].distance*c-e*(c/f-s/f-s/f*(f-1)),r=ht()?0:n,i=ht()?n:0,o=\"translate3d(\".concat(r,\"px, \").concat(i,\"px, 0)\");t.style.transform=o,t.style[\"-webkit-transform\"]=o}))}function It(){u&&u.forEach((function(t){var e=\"calc(\".concat(100/f,\"% - \").concat(s/f*(f-1),\"px)\");ht()?(t.style[\"min-height\"]=e,t.style[\"max-height\"]=e):(t.style[\"min-width\"]=e,t.style[\"max-width\"]=e)}))}function Vt(){if(u){var t=[\"transform\",\"-webkit-transform\"];t=[].concat(a(t),ht?[\"min-height\",\"max-height\"]:[\"min-width\",\"max-width\"]),u.forEach((function(e){t.forEach((function(t){e.style.removeProperty(t)}))}))}}function Xt(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();Rt(t,n),e&&(t=Nt(t)),N+=t,Wt()}function Yt(t){var e=c*(r-1*(ct()?1:f))/f,n=N+t;return n>e?n-e:n<0?n:0}function _t(t){return d(t,0,r-1-(ct()?0:f-1))}function qt(){var t=Math.abs(y),e=N<0?1-t:t;return{direction:p,progressTrack:e,progressSlides:e*r/(r-1),positions:g,position:N,speed:m,relativeSlide:(v%r+r)%r,absoluteSlide:v,size:r,slidesPerView:f,widthOrHeight:c}}function zt(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return st()?e?Ht(t,n):t:_t(t)}function Ft(t){return-(-c/f*t+N)}function Ht(t,e){var n=(v%r+r)%r,i=n<(t=(t%r+r)%r)?-n-r+t:-(n-t),o=n>t?r-n+t:t-n,a=e?Math.abs(i)<=o?i:o:t<n?i:o;return v+a}function Rt(t,e){clearTimeout(b);var n=Math.sign(t);if(n!==p&&Kt(),p=n,U.push({distance:t,time:e}),b=setTimeout((function(){U=[],m=0}),50),(U=U.slice(-6)).length<=1||0===p)return m=0;var r=U.slice(0,-1).reduce((function(t,e){return t+e.distance}),0),i=U[U.length-1].time,o=U[0].time;m=d(r/(i-o),-10,10)}function Kt(){U=[]}function Wt(){y=st()?N%(c*r/f)/(c*r/f):N/(c*r/f),Ut();for(var t=[],e=0;e<r;e++){var n=(1/r*e-(y<0&&st()?y+1:y))*r/f+o;st()&&(n+=n>(r-1)/f?-r/f:n<-r/f+1?r/f:0);var i=1/f,a=n+i,u=a<i?a/i:a>1?1-(a-1)*f/1:1;t.push({portion:u<0||u>1?0:u,distance:lt()?-1*n+1-i:n})}g=t,Lt(),ut(\"move\")}function Nt(t){if(st())return t;var e=Yt(t);if(!dt())return t-e;if(0===e)return t;var n;return t*(n=e/c,(1-Math.abs(n))*(1-Math.abs(n)))}function Ut(){var t=Math.round(N/(c/f));t!==v&&(!st()&&(t<0||t>r-1)||(v=t,ut(\"slideChanged\")))}function $t(t){ut(\"beforeChange\"),Xt(Ft(t),!1),ut(\"afterChange\")}var Bt={autoAdjustSlidesPerView:!0,centered:!1,breakpoints:null,controls:!0,dragSpeed:1,friction:.0025,loop:!1,initial:0,duration:500,preventEvent:\"data-keen-slider-pe\",slides:\".keen-slider__slide\",vertical:!1,resetSlide:!1,slidesPerView:1,spacing:0,mode:\"snap\",rtl:!1,rubberband:!0,cancelOnLeave:!0},Gt={controls:function(t){n=t},destroy:Ct,refresh:function(t){Et(t,!0)},next:function(){wt(v+1,!0)},prev:function(){wt(v-1,!0)},moveToSlide:function(t,e){wt(t,!0,e)},moveToSlideRelative:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;wt(t,!0,n,!0,e)},resize:function(){Tt(!0)},details:function(){return qt()},options:function(){var t=i({},w);return delete t.breakpoints,t}};return Pt(),Gt}function s(t){return Array.prototype.slice.call(t)}function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return\"function\"==typeof t?s(t()):\"string\"==typeof t?s(e.querySelectorAll(t)):t instanceof HTMLElement!=!1?[t]:t instanceof NodeList!=!1?t:[]}function d(t,e,n){return Math.min(Math.max(t,e),n)}Math.sign||(Math.sign=function(t){return(t>0)-(t<0)||+t});var h=function t(e,n){var r=Object.prototype.toString.call(e);if(r!==Object.prototype.toString.call(n))return!1;if([\"[object Array]\",\"[object Object]\"].indexOf(r)<0)return!1;var i=\"[object Array]\"===r?e.length:Object.keys(e).length;if(i!==(\"[object Array]\"===r?n.length:Object.keys(n).length))return!1;var o=function(e,n){var r=Object.prototype.toString.call(e);if([\"[object Array]\",\"[object Object]\"].indexOf(r)>=0){if(!t(e,n))return!1}else{if(r!==Object.prototype.toString.call(n))return!1;if(\"[object Function]\"===r){if(e.toString()!==n.toString())return!1}else if(e!==n)return!1}};if(\"[object Array]\"===r){for(var a=0;a<i;a++)if(!1===o(e[a],n[a]))return!1}else for(var u in e)if(e.hasOwnProperty(u)&&!1===o(e[u],n[u]))return!1;return!0};t.default=f,t.useKeenSlider=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.useRef(),r=e.useRef();function i(t){return h(r.current,t)||(r.current=t),r.current}var a=e.useState(null),u=o(a,2),c=u[0],s=u[1];return e.useEffect((function(){var t=new f(n.current,r.current);return s(t),function(){t.destroy()}}),[i(t)]),[n,c]},Object.defineProperty(t,\"__esModule\",{value:!0})}));\n//# sourceMappingURL=react.js.map\n","// Escape image urls to prevent issues with spaces and other\n// special characters (additionally using regex to replace parentheses if `escapeParentheses` is true)\n// Typically, `escapeParentheses` would be required for background-image URLs\nconst escapeImageUrl = (path: string, escapeParentheses?: boolean) => {\n  let escaped = ''\n  if (escapeParentheses) {\n    escaped = encodeURI(path).replace(/(?=[()])/g, '\\\\')\n  } else {\n    escaped = encodeURI(path).replace(\"'\", \"\\\\'\")\n  }\n\n  return escaped\n}\n\nexport default escapeImageUrl\n","import isMobileApp from '@app/utils/isMobileApp'\n\nexport default function (url: URL) {\n  if (['file:', 'capacitor:'].includes(url.protocol)) {\n    return true\n  }\n\n  return url.protocol === 'https:' && url.hostname.startsWith('localhost') && isMobileApp()\n}\n","import { useEffect, useMemo } from 'react'\nimport Slider from '@app/react/components/slider'\nimport { Placement } from '@app/types/placements'\nimport { imageTransform, analytics } from '@instacart/enterprise-services'\nimport { createStyles } from '@app/react/common/hooks/createStyles'\nimport { useIsMobile } from '@app/react/common/hooks/useIsMobile'\nimport { logImpression, parseContentHref } from '@app/services/canvas/utils'\nimport { useConfig, useLangAria } from '@app/services/config/hooks'\nimport { logPlacementImpression } from '@app/services/placements/analytics'\nimport { useSinglePlacementQuery } from '@app/services/placements/hooks'\nimport { escapeImageUrl } from '@app/services/util/utils'\nimport { eventEmitter, EVENT_TYPES } from '@app/utils/eventEmitter'\nimport { spacing } from '@instacart/ids-core'\nimport { useExpressHeroBannerPlacement } from '@app/services/express/hooks'\nimport { ANALYTICS_TYPE_HERO_BANNER } from '@app/services/placements/constants'\n\nconst handleClick = (banner: Placement, index: number, isMobile: boolean) => {\n  const category = isMobile ? 'mobile homepage hero' : 'homepage hero'\n  analytics.log({\n    data: {\n      action: 'click',\n      category,\n      label: index,\n      value: banner.id,\n    },\n    event: 'event',\n  })\n\n  eventEmitter.emit(EVENT_TYPES.LOG_PROMOTED_PLACEMENT, {\n    location: 'Homepage Hero',\n    placement: banner,\n    position: index,\n  })\n}\n\nconst getBannerAlt = (banner: Placement) => {\n  const defaultAlt = banner.media.alt_text ?? undefined\n  switch (banner.target.type) {\n    case 'collection':\n      return banner.target.collection.description ?? defaultAlt\n    case 'product':\n      return banner.target.product.description ?? defaultAlt\n    default:\n      return defaultAlt\n  }\n}\n\nconst getBannerImage = (banner: Placement) =>\n  // express hero banner uses locally served image\n  banner.id === 'express_hero_banner'\n    ? banner.media.image\n    : imageTransform(escapeImageUrl(banner.media.image || ''))\n\nconst useStyles = createStyles(theme => ({\n  loader: {\n    backgroundColor: theme.colors.systemGrayscale20,\n    height: 270,\n  },\n  mobile: {\n    paddingLeft: spacing.s16,\n    paddingRight: spacing.s16,\n  },\n  singleBanner: {\n    height: 270,\n    width: '100%',\n  },\n  singleBannerImage: {\n    height: '100%',\n    objectFit: 'cover' as 'cover',\n    objectPosition: '50% 50%',\n  },\n  singleBannerLink: {\n    display: 'flex',\n    flexDirection: 'column' as 'column',\n    height: 270,\n    overflow: 'hidden',\n    width: '100%',\n  },\n  singleBannerMobile: {\n    '& > a': {\n      '& > img': {\n        width: '100%',\n      },\n\n      height: '100%',\n    },\n    height: '100%',\n  },\n  slider: {\n    margin: `${spacing.s32}px auto`,\n    paddingLeft: spacing.s32,\n    paddingRight: spacing.s32,\n    width: '100%',\n  },\n  sliderBanner: {\n    display: 'block',\n    margin: '0 auto',\n    maxWidth: '100%',\n  },\n  sliderNarrowWidth: {\n    maxWidth: 1306,\n  },\n}))\n\nconst HeroBanner = () => {\n  const config = useConfig()\n  const styles = useStyles()\n  const langAria = useLangAria()\n  const isMobile = useIsMobile()\n  const expressHeroBanner = useExpressHeroBannerPlacement()\n\n  const sliderEnabled = config.homepageHeroBannerSlider.enabled\n  const sliderNarrowWidth = !config.homepageHeroBannerSlider.fullWidth\n\n  const { data } = useSinglePlacementQuery(isMobile ? 'mobile_homepage_hero' : 'homepage_hero')\n\n  const items = data?.items\n\n  // if there is an expressHeroBanner, then add it as the first banner\n  const banners = useMemo(() => {\n    if (!items) return items\n    if (expressHeroBanner) return [expressHeroBanner, ...items]\n    return items\n  }, [items, expressHeroBanner])\n\n  useEffect(() => {\n    if (!sliderEnabled && banners && banners.length > 0) {\n      logImpression(banners[0])\n    }\n  }, [banners, sliderEnabled])\n\n  const slicedBanners = useMemo(() => {\n    if (banners && sliderEnabled)\n      return banners.slice(0, config.homepageHeroBannerSlider.maxBanners)\n    return null\n  }, [sliderEnabled, banners, config])\n\n  useEffect(() => {\n    logPlacementImpression({\n      location: 'homepage',\n      placements: slicedBanners,\n      type: ANALYTICS_TYPE_HERO_BANNER,\n    })\n  }, [slicedBanners])\n\n  if (!banners) {\n    return (\n      <div\n        css={styles.loader}\n        className=\"loading-shimmer\"\n        role=\"alert\"\n        aria-busy=\"true\"\n        aria-label={langAria.loadingImage}\n      />\n    )\n  }\n\n  if (!sliderEnabled) {\n    const banner = banners[0]\n\n    if (!banner) return null\n\n    return (\n      <div\n        css={[styles.singleBanner, isMobile && styles.singleBannerMobile]}\n        data-test={`hero-content`}\n      >\n        {/* eslint-disable-next-line jsx-a11y/no-noninteractive-element-interactions, jsx-a11y/click-events-have-key-events */}\n        <a\n          role=\"banner\"\n          css={styles.singleBannerLink}\n          {...{\n            target: banner.target?.openIn === 'new_tab' ? '_blank' : undefined,\n            ...parseContentHref(banner),\n          }}\n          onClick={() => handleClick(banner, 0, isMobile)}\n          data-test={`content-banner`}\n        >\n          <img\n            css={styles.singleBannerImage}\n            src={getBannerImage(banner)}\n            alt={getBannerAlt(banner)}\n          />\n        </a>\n      </div>\n    )\n  }\n\n  return (\n    <div\n      css={[\n        styles.slider,\n        isMobile && styles.mobile,\n        sliderNarrowWidth && styles.sliderNarrowWidth,\n      ]}\n    >\n      <Slider\n        autoplay={config.homepageHeroBannerSlider.autoplayEnabled}\n        autoplayDelay={config.homepageHeroBannerSlider.autoplayDelay}\n        showArrowControls={config.homepageHeroBannerSlider.showArrowControls}\n        showAutoplayControls={config.homepageHeroBannerSlider.showAutoplayControls}\n        roundedCorners\n        largeControls\n        onChange={index => {\n          const banner = banners[index]\n          if (banner) logImpression(banners[index])\n        }}\n      >\n        {slicedBanners &&\n          slicedBanners.map((banner, index) => (\n            // eslint-disable-next-line jsx-a11y/click-events-have-key-events, jsx-a11y/no-static-element-interactions\n            <a\n              data-test={`content-banner-${banner.id}`}\n              {...{\n                target: banner.target?.openIn === 'new_tab' ? '_blank' : undefined,\n                ...parseContentHref(banner),\n              }}\n              onClick={() => handleClick(banner, index, isMobile)}\n              key={banner.id}\n            >\n              {banner.media.image && (\n                <img\n                  css={styles.sliderBanner}\n                  src={getBannerImage(banner)}\n                  alt={getBannerAlt(banner)}\n                />\n              )}\n            </a>\n          ))}\n      </Slider>\n    </div>\n  )\n}\n\nexport default HeroBanner\n","export const ANALYTICS_TYPE_HERO_BANNER = 'hero banner'\n","import { useSelector } from 'react-redux'\nimport { buyItAgainEnabledConfig } from '@app/services/collections/selectors'\nimport { CollectionId } from '@app/types/collection'\nimport HomepageCollection from './HomepageCollection'\n\nexport type ParamCollectionsType = {\n  collectionList: Array<CollectionId>\n}\n\nconst HomepageParameterCollections = ({ collectionList }: ParamCollectionsType) => {\n  const buyItAgainEnabled = useSelector(buyItAgainEnabledConfig)\n\n  let list = collectionList ?? []\n\n  // Filter BIA collection if enabled\n  if (buyItAgainEnabled) {\n    list = list.filter(id => `${id}` !== '1')\n  }\n\n  return (\n    <div data-test=\"homepage-param-collections\">\n      {list?.map(id => (\n        <HomepageCollection key={`homepage_param_${id}`} id={id} />\n      ))}\n    </div>\n  )\n}\n\nexport default HomepageParameterCollections\n","import { useSelector } from 'react-redux'\nimport ProductCollectionLoader from '@app/react/common/collection/ProductCollectionLoader'\nimport { useSinglePlacementQuery } from '@app/services/placements/hooks'\nimport { buyItAgainEnabledConfig } from '@app/services/collections/selectors'\nimport HomepageCollection from './HomepageCollection'\n\nconst HomepagePlacementCollections = () => {\n  const buyItAgainEnabled = useSelector(buyItAgainEnabledConfig)\n\n  const { data, isLoading } = useSinglePlacementQuery('homepage_collections')\n\n  let items = data?.items ?? []\n\n  // Filter BIA collection if enabled\n  if (buyItAgainEnabled) {\n    items = items.filter(placement => placement.target?.collection?.id !== '1')\n  }\n\n  items = items?.map(item => ({ ...item }))\n\n  if (isLoading) return <ProductCollectionLoader />\n\n  return (\n    <div data-test=\"homepage-placement-collections\">\n      {items?.map((item, index) => {\n        const targetId = item?.target?.collection?.id\n        return targetId ? (\n          // Index is used to ensure unique key when same targetId is used multiple times\n          // eslint-disable-next-line react/no-array-index-key\n          <HomepageCollection key={`homepage_${targetId}_${index}`} id={targetId} />\n        ) : null\n      })}\n    </div>\n  )\n}\n\nexport default HomepagePlacementCollections\n","import { useSelector } from 'react-redux'\nimport { getURLPassedCollectionsList } from '@app/services/collections/utils'\nimport { passingCollectionQueryParamsConfig } from '@app/services/collections/selectors'\nimport useUrlQuery from '@app/react/common/hooks/useUrlQuery'\nimport HomepageParameterCollections from './HomepageParameterCollections'\nimport HomepagePlacementCollections from './HomepagePlacementCollections'\n\nexport type CollectionParam = {\n  collections: string\n}\n\nconst HomepageCollectionsContainer = () => {\n  const params = useUrlQuery()\n  const { homepage } = useSelector(passingCollectionQueryParamsConfig)\n  const paramCollections = getURLPassedCollectionsList(params.get('collections') || '')\n\n  if (homepage && paramCollections.length > 0) {\n    return <HomepageParameterCollections collectionList={paramCollections} />\n  }\n\n  return <HomepagePlacementCollections />\n}\n\nexport default HomepageCollectionsContainer\n","import { parse } from '@app/utils/json'\n\n/**\n *\n * @param collections String of collections eg '[123,156]' in string\n */\nexport const getURLPassedCollectionsList = (collections: string) => {\n  const parsed = parse(collections)\n  return Array.isArray(parsed) ? parsed : []\n}\n","import { useSelector } from 'react-redux'\nimport ProductCollection from '@app/react/common/collection/ProductCollection'\nimport {\n  buyItAgainCollectionFormatting,\n  buyItAgainCollectionEnabled,\n} from '@app/services/collections/selectors'\nimport { logPlacementImpression } from '@app/services/placements/analytics'\nimport { useRunOnce } from '@app/react/common/hooks/useRunOnce'\nimport {\n  BIA_COLLECTION_ID,\n  BUY_IT_AGAIN_LOCATION_ANALYTIICS,\n  PRODUCT_LIMIT,\n} from '@app/services/collections/constants'\nimport ProductCollectionLoader from '@app/react/common/collection/ProductCollectionLoader'\nimport { useCollectionQuery } from '@app/services/collections/hooks'\nimport { Collection } from '@app/types/collection'\n\nconst BuyItAgainCollection = () => {\n  const enabled = useSelector(buyItAgainCollectionEnabled)\n\n  const { data, isLoading } = useCollectionQuery(BIA_COLLECTION_ID, PRODUCT_LIMIT, { enabled })\n\n  const formattedData = useSelector(state =>\n    buyItAgainCollectionFormatting(state, data as Collection)\n  )\n\n  useRunOnce(\n    () =>\n      logPlacementImpression({\n        location: 'homepage',\n        placements: [],\n        type: BUY_IT_AGAIN_LOCATION_ANALYTIICS,\n      }),\n    !!formattedData\n  )\n\n  if (isLoading) return <ProductCollectionLoader />\n  if (!enabled || !formattedData || formattedData.item_count <= 5) return null\n\n  return (\n    <div data-test={`buyitagain-collection-${formattedData.id}`}>\n      <ProductCollection collection={formattedData} enableViewMore />\n    </div>\n  )\n}\n\nexport default BuyItAgainCollection\n","import { useSelector } from 'react-redux'\nimport { useRunOnce } from '@app/react/common/hooks/useRunOnce'\nimport ProductCollection from '@app/react/common/collection/ProductCollection'\nimport { logPlacementImpression } from '@app/services/placements/analytics'\nimport {\n  FEATURED_PRODUCT_LOCATION_ANALYTIICS,\n  HOMEPAGE_FP_COLLECTION_ID,\n  PRODUCT_LIMIT,\n} from '@app/services/collections/constants'\nimport {\n  featuredCollectionEnabledConfig,\n  featuredCollectionFormatting,\n  featuredCollectionShouldDisplay,\n} from '@app/services/collections/selectors'\nimport ProductCollectionLoader from '@app/react/common/collection/ProductCollectionLoader'\n\nimport { useCollectionQuery } from '@app/services/collections/hooks'\nimport { Collection } from '@app/types/collection'\n\nconst FeaturedCollection = () => {\n  const enabled = useSelector(featuredCollectionEnabledConfig)\n  const { data, isLoading } = useCollectionQuery(HOMEPAGE_FP_COLLECTION_ID, PRODUCT_LIMIT, {\n    enabled,\n  })\n\n  const formattedData = useSelector(state =>\n    featuredCollectionFormatting(state, data as Collection)\n  )\n\n  const shouldDisplay = useSelector(state =>\n    featuredCollectionShouldDisplay(state, data as Collection)\n  )\n\n  useRunOnce(\n    () =>\n      logPlacementImpression({\n        location: 'homepage',\n        placements: [],\n        type: FEATURED_PRODUCT_LOCATION_ANALYTIICS,\n      }),\n    !!formattedData\n  )\n\n  if (isLoading) return <ProductCollectionLoader />\n\n  if (!shouldDisplay || !formattedData) return null\n\n  return (\n    <div data-test={`featured-collection-${formattedData.id}`}>\n      <ProductCollection collection={formattedData} enableViewMore />\n    </div>\n  )\n}\n\nexport default FeaturedCollection\n","import { spacing } from '@instacart/ids-core'\nimport { createStyles } from '@app/react/common/hooks/createStyles'\n\nconst useStyles = createStyles(theme => ({\n  devMode: {\n    backgroundColor: theme.colors.systemGrayscale10,\n    paddingBottom: spacing.s16,\n    paddingTop: spacing.s16,\n    textAlign: 'center',\n  },\n}))\n\nconst ReactBanner = () => {\n  const styles = useStyles()\n  return (\n    <div>\n      {/* eslint-disable-next-line react/jsx-no-literals */}\n      <div css={styles.devMode}>REACT</div>\n    </div>\n  )\n}\n\nexport default ReactBanner\n","import ShopByAisle from '@app/react/components/categories/ShopByAisle'\nimport Section from '@app/react/common/Section'\nimport HomepageCollectionsContainer from '@app/react/components/homepageCollections/HomepageCollectionsContainer'\nimport WaysToShop from '@app/react/components/waysToShop/WaysToShop'\nimport BuyItAgainCollection from '@app/react/components/buyItAgainCollection/BuyItAgainCollection'\nimport FeaturedCollection from '@app/react/components/featuredCollection/FeaturedCollection'\nimport ReactBanner from '@app/react/components/reactBanner/ReactBanner'\nimport HomepageBanners from '@app/react/components/homepageBanners/HomepageBanners'\nimport HeroBanner from '@app/react/components/heroBanner/HeroBanner'\n\nconst HomeDesktopView = () => {\n  return (\n    <>\n      <ReactBanner />\n      <HeroBanner />\n      <HomepageBanners />\n      <Section>\n        <WaysToShop showMoreLink />\n      </Section>\n      <Section>\n        <BuyItAgainCollection />\n        <FeaturedCollection />\n      </Section>\n      <Section>\n        <HomepageCollectionsContainer />\n      </Section>\n      <Section>\n        <ShopByAisle />\n      </Section>\n    </>\n  )\n}\n\nexport default HomeDesktopView\n","import { useIsMobile } from '@app/react/common/hooks/useIsMobile'\nimport { useConfig } from '@app/services/config/hooks'\nimport HomeDesktopView from './home/HomeDesktopView'\n\nconst HomePage = () => {\n  const isMobile = useIsMobile()\n  const config = useConfig()\n\n  // TODO - refactor this to be at a route level in the future.\n  if (!config.react.enableHomePage) {\n    return null\n  }\n\n  if (isMobile) {\n    return null\n  }\n\n  return <HomeDesktopView />\n}\n\nexport default HomePage\n","import ProductCollection from '@app/react/common/collection/ProductCollection'\nimport { CollectionId } from '@app/types/collection'\nimport ProductCollectionLoader from '@app/react/common/collection/ProductCollectionLoader'\nimport { PRODUCT_LIMIT } from '@app/services/collections/constants'\nimport { useCollectionQuery } from '@app/services/collections/hooks'\n\ninterface HomepageCollectionProps {\n  id: CollectionId\n}\n\nconst HomepageCollection = ({ id }: HomepageCollectionProps) => {\n  const { data, isLoading } = useCollectionQuery(id, PRODUCT_LIMIT, { enabled: !!id })\n\n  if (isLoading) return <ProductCollectionLoader />\n\n  if (!data?.items?.length) return null\n\n  return (\n    <div data-test={`homepage-collection-${data.id}`}>\n      <ProductCollection collection={data} enableViewMore />\n    </div>\n  )\n}\n\nexport default HomepageCollection\n","import type { RootState } from '../rootReducer'\n\nexport const userListsSelector = (state: RootState) => state.userLists.lists\n","import isMobileContainerUrl from './isMobileContainerUrl'\nimport { getBuildConfig } from '../rootConfig'\nimport urlParser from './urlParser'\n\nconst buildConfig = getBuildConfig()\n\n/**\n * Return the html5 version of the url on Cordova.\n *\n * url: `file://<path>/mobile.index.html#/categories`\n * returns: `<webUrl>/categories`\n */\n\nconst getHtml5Url = url => {\n  const { env } = buildConfig\n\n  if (isMobileContainerUrl(urlParser(url))) {\n    const path = url?.split('#')?.[1]\n    return `${env.webUrl}${path || ''}`\n  }\n  return url\n}\n\nexport default getHtml5Url\n","import { spacing } from '@instacart/ids-core'\nimport { FC } from 'react'\n\nexport interface CollectionLoaderProps {\n  accessibleLabel: string\n  fullWidth?: boolean\n}\n\n// TODO move this to constant file\nexport const MAX_WIDTH = 1090\nexport const PLACEHOLDER_IMAGE_WIDTH = 172\n\nconst getStyles = (fullWidth?: boolean) =>\n  ({\n    wrapper: {\n      margin: `0 auto ${spacing.s32}px`,\n      maxWidth: fullWidth ? 'none' : `${MAX_WIDTH}px`,\n      width: '100%',\n    },\n  } as const)\n\nexport const CollectionLoader: FC<CollectionLoaderProps> = ({\n  fullWidth,\n  accessibleLabel,\n  children,\n}) => {\n  const { wrapper } = getStyles(fullWidth)\n\n  return (\n    <section style={wrapper} aria-label={accessibleLabel}>\n      {children}\n    </section>\n  )\n}\n","import { LoadingLockupTextBase } from '@instacart/ids-core'\nimport { FC } from 'react'\n\nconst getStyles = () =>\n  ({\n    headerRow: {\n      display: 'flex',\n      justifyContent: 'space-between',\n      width: '100%',\n    },\n    headerText: {\n      width: '100px',\n    },\n  } as const)\n\nexport const CollectionLoaderHeader: FC = () => {\n  const { headerRow, headerText } = getStyles()\n  return (\n    <div style={headerRow}>\n      <div data-test=\"header-text\" style={headerText}>\n        <LoadingLockupTextBase />\n      </div>\n      <div data-test=\"header-text\" style={headerText}>\n        <LoadingLockupTextBase />\n      </div>\n    </div>\n  )\n}\n","import { FC, ComponentType, useEffect, useRef, useMemo, useState } from 'react'\nimport { LoadingLockupGridItem, spacing } from '@instacart/ids-core'\nimport useResizeObserver from 'use-resize-observer'\n\nconst getStyles = () =>\n  ({\n    container: {\n      display: 'flex',\n      overflow: 'hidden',\n      position: 'relative',\n      width: '100%',\n    },\n    itemLoaderContainer: {\n      margin: spacing.s12,\n      marginLeft: 0,\n      marginRight: spacing.s24,\n    },\n  } as const)\n\nexport const DEFAULT_NUM_ITEM_LOADERS = 10\n\nexport interface CarouselLoaderProps {\n  ItemLoaderComp?: ComponentType\n}\n\nexport const CarouselLoader: FC<CarouselLoaderProps> = ({\n  ItemLoaderComp = LoadingLockupGridItem,\n}) => {\n  const { container, itemLoaderContainer } = getStyles()\n\n  const [numItemLoaders, setNumItemLoaders] = useState<number>(DEFAULT_NUM_ITEM_LOADERS)\n  const { ref: containerRef, width: containerWidth } = useResizeObserver()\n  const itemRef = useRef<HTMLDivElement>(null)\n\n  useEffect(() => {\n    if (containerWidth) {\n      const itemWidth = itemRef.current?.offsetWidth\n      if (!itemWidth) return\n      setNumItemLoaders(Math.ceil(containerWidth / itemWidth))\n    }\n  }, [containerWidth])\n\n  const loaderList = useMemo(\n    // only re-create the array when numItemLoader is changed\n    () => Array.from({ length: numItemLoaders }).map((_, key) => ({ key })),\n    [numItemLoaders]\n  )\n\n  return (\n    <div ref={containerRef} style={container}>\n      {loaderList.map(({ key }) => (\n        <div\n          key={`item-loader-${key}`}\n          style={itemLoaderContainer}\n          ref={key === 0 ? itemRef : undefined}\n        >\n          <ItemLoaderComp />\n        </div>\n      ))}\n    </div>\n  )\n}\n","import { FC } from 'react'\nimport {\n  CollectionLoader,\n  CollectionLoaderHeader,\n} from '@app/react/ids/enterprise/molecules/CollectionLoader'\nimport { CarouselLoader } from '@app/react/ids/enterprise/molecules/CarouselLoader'\nimport { useLangAria } from '@app/services/config/hooks'\n\nexport interface ProductCollectionLoaderProps {\n  fullWidth?: boolean\n}\n\nconst ProductCollectionLoader: FC<ProductCollectionLoaderProps> = ({ fullWidth }) => {\n  const langAria = useLangAria()\n\n  return (\n    <CollectionLoader accessibleLabel={langAria.loading} fullWidth={fullWidth}>\n      <CollectionLoaderHeader />\n      <CarouselLoader />\n    </CollectionLoader>\n  )\n}\n\nexport default ProductCollectionLoader\n","export const PRODUCT_LIMIT = 10 as const // Currently baked into our design, if that changes this value likely makes more sense as a config\nexport const BIA_COLLECTION_ID = 'most_frequent' as const // The id of the collection to use for the buy it again carousel\nexport const HOMEPAGE_FP_COLLECTION_ID = 'homepage_featured' as const // The id of the collection to use for the featured products carousel\nexport const COLLECTION_FETCH_LIMIT = 10 as const\nexport const COLLECTION_LIMIT_MULTIPLIER = 2 as const\nexport const BUY_IT_AGAIN_LOCATION_ANALYTIICS = 'buy it again carousel' as const\nexport const FEATURED_PRODUCT_LOCATION_ANALYTIICS = 'featured products carousel' as const\n// query key\nexport const SINGLE_COLLECTION_QUERY_KEY = 'SINGLE_COLLECTION' as const\n","import { captureException } from '@sentry/browser'\nimport { Placement } from '@app/types/placements'\nimport { isLinkInternal, getPrependHashIfNeeded } from '@app/services/util/utils'\nimport { srefToHref } from '@app/utils/routing'\nimport { config as configService } from '@instacart/enterprise-services'\nimport urlParser from '@app/utils/urlParser'\nimport request from '@app/utils/request'\n\nexport const postLog = async ({ href, data }: { href: string; data: Record<string, unknown> }) => {\n  try {\n    await request(href, {\n      body: data,\n      method: 'POST',\n    })\n  } catch (e) {\n    captureException(e)\n  }\n}\n\nexport const logInteraction = async (placement: Placement) => {\n  const { interaction } =\n    // eslint-disable-next-line no-underscore-dangle\n    placement._links ?? {}\n  if (interaction) {\n    await postLog(interaction)\n  }\n}\n\nexport const logImpression = async (placement: Placement) => {\n  const { impression } =\n    // eslint-disable-next-line no-underscore-dangle\n    placement._links ?? {}\n  if (impression) {\n    await postLog(impression)\n  }\n}\n\nexport const parseContentHref = ({ target }: Placement) => {\n  const { type } = target\n\n  if (type === 'collection') {\n    const { id } = target.collection ?? {}\n    if (!id) {\n      return {}\n    }\n    const href = srefToHref['main.shop.collection'].replace('{id}', id.toString())\n    return { href }\n  }\n\n  if (type === 'product') {\n    const { id } = target.product ?? {}\n    if (!id) {\n      return {}\n    }\n    const href = srefToHref['main.product'].replace('{id}', id)\n    return { href }\n  }\n\n  if (type === 'url') {\n    const config = configService.selectors.getConfig()\n    const isInternalLink = isLinkInternal(target.url)\n\n    let href = target.url\n    if (isInternalLink && href) {\n      const { pathname = '', search = '' } = urlParser(href)\n      const url = pathname ? pathname + search : href\n      href = getPrependHashIfNeeded(url)\n    }\n\n    if (config.openExternalLinksNewTab && !isInternalLink) {\n      return {\n        href,\n        target: '_blank',\n      }\n    }\n\n    return { href }\n  }\n\n  return {}\n}\n","import { imageTransform } from '@instacart/enterprise-services'\nimport { Placement } from '@app/types/placements'\nimport { escapeImageUrl } from '@app/services/util/utils'\nimport { createStyles } from '@app/react/common/hooks/createStyles'\nimport { useIsMobile } from '@app/react/common/hooks/useIsMobile'\n\nconst getStyles = createStyles(\n  () =>\n    ({\n      imageDesktop: {\n        height: '100%',\n        objectFit: 'cover',\n        objectPosition: '50% 50%',\n        width: '100%',\n      },\n      imageMobile: {\n        bottom: 0,\n        left: 0,\n        margin: 'auto',\n        maxHeight: '100%',\n        maxWidth: '100%',\n        objectFit: 'cover',\n        objectPosition: '50% 50%',\n        position: 'absolute',\n        right: 0,\n        top: 0,\n        width: '100%',\n      },\n    } as const)\n)\n\ntype Props = {\n  banner: Placement\n}\n\nconst BannerImage = ({ banner }: Props) => {\n  const isMobile = useIsMobile()\n  const styles = getStyles()\n\n  return (\n    <img\n      alt={banner?.media?.alt_text ?? ''}\n      css={isMobile ? styles.imageMobile : styles.imageDesktop}\n      src={imageTransform(escapeImageUrl(banner?.media?.image ?? ''))}\n    />\n  )\n}\n\nexport default BannerImage\n","import { FC } from 'react'\nimport { createStyles } from '@app/react/common/hooks/createStyles'\nimport { useIsMobile } from '@app/react/common/hooks/useIsMobile'\nimport { spacing } from '@instacart/ids-core'\n\nconst getStyles = createStyles(() => ({\n  bannerContainerMobile: {\n    marginBottom: spacing.s16,\n    width: '100%',\n  },\n}))\n\n// only used on mobile\nconst BannerLayout: FC<unknown> = ({ children }) => {\n  const isMobile = useIsMobile()\n  const styles = getStyles()\n\n  return <div css={[isMobile && styles.bannerContainerMobile]}>{children}</div>\n}\n\nexport default BannerLayout\n","import { MouseEventHandler } from 'react'\nimport { Placement } from '@app/types/placements'\nimport { parseContentHref } from '@app/services/canvas/utils'\nimport { useIsMobile } from '@app/react/common/hooks/useIsMobile'\nimport { createStyles } from '@app/react/common/hooks/createStyles'\nimport BannerImage from './BannerImage'\nimport BannerLayout from './BannerLayout'\n\nconst getStyles = createStyles(\n  theme =>\n    ({\n      bannerDesktop: {\n        ':last-child': {\n          marginRight: 0,\n        },\n        backgroundPosition: 'center center',\n        backgroundRepeat: 'no-repeat',\n        display: 'inline-block',\n        height: '202px',\n        marginRight: '30px',\n        overflow: 'hidden',\n        verticalAlign: 'top',\n        width: '347px',\n      },\n      bannerMobile: {\n        display: 'block',\n        height: 0,\n        overflow: 'hidden',\n        paddingTop: 'calc(203%/347*100)', // I know...\n        position: 'relative',\n        width: '100%',\n      },\n      root: {\n        backgroundSize: 'cover',\n        borderRadius: theme.radius.r4,\n      },\n    } as const)\n)\n\ntype BannerProps = {\n  banner: Placement\n  onClick: MouseEventHandler\n}\n\nconst Banner = ({ banner, onClick }: BannerProps) => {\n  const isMobile = useIsMobile()\n  const styles = getStyles()\n\n  const BannerInstance = (\n    // TODO: replace anchor tag with AppLink\n    /* eslint-disable-next-line jsx-a11y/click-events-have-key-events, jsx-a11y/no-static-element-interactions */\n    <a\n      css={[styles.root, isMobile ? styles.bannerMobile : styles.bannerDesktop]}\n      data-test={`content-banner-${banner.id}`}\n      onClick={onClick}\n      rel=\"noreferrer\"\n      {...{\n        target: banner.target?.openIn === 'new_tab' ? '_blank' : undefined,\n        ...parseContentHref(banner),\n      }}\n    >\n      <BannerImage banner={banner} />\n    </a>\n  )\n\n  if (isMobile) return <BannerLayout>{BannerInstance}</BannerLayout>\n\n  return BannerInstance\n}\n\nexport default Banner\n","import { Placement } from '@app/types/placements'\nimport Banner from './Banner'\n\ntype Props = {\n  banners: Placement[]\n  onBannerClick: (banner: Placement, index: number) => void\n}\n\nconst Banners = ({ banners, onBannerClick }: Props) => (\n  <>\n    {banners.map((banner, index) => (\n      <Banner banner={banner} key={banner.id} onClick={() => onBannerClick(banner, index)} />\n    ))}\n  </>\n)\n\nexport default Banners\n","import { FC } from 'react'\nimport { spacing } from '@instacart/ids-core'\nimport { createStyles } from '@app/react/common/hooks/createStyles'\nimport { useIsMobile } from '@app/react/common/hooks/useIsMobile'\n\nconst getStyles = createStyles(\n  () =>\n    ({\n      bannersDesktop: {\n        display: 'block',\n        height: '203px',\n        margin: `${spacing.s16}px 0`,\n        overflow: 'hidden',\n        position: 'relative',\n        textAlign: 'center',\n        width: '100%',\n      },\n      bannersMobile: {\n        padding: `0 ${spacing.s16}px`,\n      },\n    } as const)\n)\n\nconst BannersLayout: FC<unknown> = ({ children }) => {\n  const isMobile = useIsMobile()\n  const styles = getStyles()\n\n  return (\n    <div css={[isMobile ? styles.bannersMobile : styles.bannersDesktop]} role=\"group\">\n      {children}\n    </div>\n  )\n}\n\nexport default BannersLayout\n","import { spacing } from '@instacart/ids-core'\nimport { Placement } from '@app/types/placements'\nimport { logImpression } from '@app/services/canvas/utils'\nimport { useConfig, useLang } from '@app/services/config/hooks'\nimport { createStyles } from '@app/react/common/hooks/createStyles'\nimport Slider from '@app/react/components/slider'\nimport Banners from './Banners'\nimport BannersLayout from './BannersLayout'\n\nconst getStyles = createStyles(() => ({\n  slider: {\n    margin: spacing.s16,\n  },\n}))\n\ntype Props = {\n  banners: Placement[]\n  handleClick: (banner: Placement, index: number) => void\n}\n\nconst MobileHomepageBanners = ({ banners, handleClick }: Props) => {\n  const styles = getStyles()\n  const lang = useLang()\n  const config = useConfig()\n\n  if (config.enableHomepageBannerSlider) {\n    return (\n      <Slider\n        css={styles.slider}\n        onChange={index => {\n          logImpression(banners[index])\n        }}\n        ariaName={lang.shopHomepageBannersHeader}\n      >\n        <Banners banners={banners} onBannerClick={handleClick} />\n      </Slider>\n    )\n  }\n\n  return (\n    <BannersLayout>\n      <Banners banners={banners} onBannerClick={handleClick} />\n    </BannersLayout>\n  )\n}\n\nexport default MobileHomepageBanners\n","import { useEffect, useMemo, useState } from 'react'\nimport { Placement } from '@app/types/placements'\nimport { logPlacementImpression } from '@app/services/placements/analytics'\nimport { useConfig } from '@app/services/config/hooks'\nimport { eventEmitter, EVENT_TYPES } from '@app/utils/eventEmitter'\nimport * as homepageBannersService from '@app/services/homepageBanners/api'\nimport { useIsMobile } from '@app/react/common/hooks/useIsMobile'\nimport Banners from './Banners'\nimport MobileHomepageBanners from './MobileHomepageBanners'\nimport BannersLayout from './BannersLayout'\n\nconst HomepageBanners = () => {\n  const [banners, setBanners] = useState<Placement[]>([])\n  const config = useConfig()\n  const isMobile = useIsMobile()\n\n  const slicedBanners = useMemo(() => banners.slice(0, config.numHomepageBanners), [\n    banners,\n    config,\n  ])\n\n  const handleClick = (banner: Placement, index: number) => {\n    const category = isMobile ? 'mobile homepage banner' : 'homepage banner'\n    eventEmitter.emit(EVENT_TYPES.LOG_PROMOTED_PLACEMENT, {\n      location: category,\n      placement: banner,\n      position: index,\n    })\n  }\n\n  // fetch banners via API\n  useEffect(() => {\n    homepageBannersService.getHomepageBanners().then(bannerContent => {\n      setBanners(bannerContent.items)\n    })\n  }, [setBanners])\n\n  // analytics upon rendering of banners\n  useEffect(() => {\n    logPlacementImpression({\n      location: 'homepage',\n      placements: slicedBanners,\n      type: 'homepage_banners',\n    })\n  }, [slicedBanners])\n\n  if (slicedBanners?.length === 0) {\n    return null\n  }\n\n  if (!isMobile) {\n    return (\n      <BannersLayout>\n        <Banners banners={slicedBanners} onBannerClick={handleClick} />\n      </BannersLayout>\n    )\n  }\n\n  return <MobileHomepageBanners banners={slicedBanners} handleClick={handleClick} />\n}\n\nexport default HomepageBanners\n","import request from '@app/utils/request'\nimport { HomepageBanners } from '@app/types/homepageBanners'\n\nexport const getHomepageBanners = () => request<HomepageBanners>('/placements/homepage_banners')\n","import { createStyles, createStyleVariables } from '@app/react/common/hooks/createStyles'\nimport { useConfig } from '@app/services/config/hooks'\nimport { spacing } from '@instacart/ids-core'\n\nimport AppLink from '@app/react/common/AppLink'\nimport { Category } from '@app/types/category'\nimport { CategoryCardStyleVariables } from './types'\n\nconst styleVariables = createStyleVariables<CategoryCardStyleVariables>('categoryCard', {\n  backgroundColor: 'systemGrayscale10',\n  color: 'systemGrayscale70',\n})\n\nconst useStyles = createStyles(\n  (theme, variables) => ({\n    container: {\n      maxWidth: '249px',\n      width: '100%',\n    },\n    img: {\n      display: 'block',\n      height: '100%',\n      objectFit: 'contain',\n      width: '100%',\n    },\n    imgHolder: {\n      backgroundColor: '#FFF',\n      display: 'block',\n      height: '168px',\n      width: '100%',\n    },\n    link: {\n      background: theme.colors[variables.backgroundColor],\n      border: `1px solid ${theme.colors[variables.backgroundColor]}`,\n      borderRadius: theme.radius.r12,\n      display: 'block',\n      height: '230px',\n      overflow: 'hidden',\n      position: 'relative',\n    },\n    subCategoryLink: {\n      '&:hover': {\n        textDecoration: 'none',\n      },\n      color: theme.colors.systemGrayscale70,\n      fontSize: theme.typography.subtitleSmall.fontSize,\n      lineHeight: '22px',\n      marginRight: '10px',\n      textDecoration: 'underline',\n    },\n    subCategoryList: {\n      display: 'flex',\n      flexWrap: 'wrap',\n      listStyleType: 'none',\n      margin: 0,\n      padding: '9px 18px 0',\n    },\n    textAlignCenter: {\n      textAlign: 'center',\n    },\n    textAlignLeft: {\n      textAlign: 'left',\n    },\n    textTruncate: {\n      WebkitBoxOrient: 'vertical',\n      WebkitLineClamp: 2,\n      display: '-webkit-box',\n      textOverflow: 'ellipsis',\n    },\n    title: {\n      ...theme.typography.subtitleMedium,\n      background: theme.colors.systemGrayscale10,\n      color: theme.colors[variables.color],\n      display: 'block',\n      margin: `${spacing.s8}px`,\n      overflow: 'hidden',\n    },\n  }),\n  styleVariables\n)\n\ninterface Props {\n  category: Category\n  showChildren?: boolean\n}\n\nconst CategoryCard = ({ category, showChildren = false }: Props) => {\n  const config = useConfig()\n  const { name, href, children = [], id } = category\n  const img = category.images.tile?.small\n  const styles = useStyles()\n  const textAlignStyle = config.categoryTile?.textCentered\n    ? styles.textAlignCenter\n    : styles.textAlignLeft\n\n  return (\n    <div css={styles.container} data-test={`category-card-${id}`}>\n      <AppLink\n        clickAnalytics={{ category: 'category cateory image link', label: name }}\n        css={styles.link}\n        title={name}\n        to={href}\n      >\n        <span css={styles.imgHolder}>\n          <img src={img} alt={name} css={styles.img} />\n        </span>\n        <span css={[styles.title, styles.textTruncate, textAlignStyle]}>{name}</span>\n      </AppLink>\n      {showChildren && children.length > 0 && (\n        <ul css={styles.subCategoryList}>\n          {children.map(subCategory => (\n            <li key={subCategory.id} data-test={`category-card-children-${id}`}>\n              <AppLink\n                clickAnalytics={{\n                  category: 'catalog subcategories image link',\n                  label: subCategory.name,\n                }}\n                css={styles.subCategoryLink}\n                title={subCategory.name}\n                to={subCategory.href}\n              >\n                {subCategory.name}\n              </AppLink>\n            </li>\n          ))}\n        </ul>\n      )}\n    </div>\n  )\n}\n\nexport default CategoryCard\n","import { keyframes } from '@emotion/core'\nimport { addAlphaToHex, Theme } from '@instacart/ids-core'\n\n/*\n * Copied from the IDS core library for now. Should export/share this eventually.\n * https://github.com/instacart/instacart-design-system-web/blob/master/packages/core/src/molecules/LoadingLockups/bases/animation.ts\n */\n\nconst SHIMMER_WIDTH_PERCENTAGE = 55\nconst TRANSLATE_X_START = -100\n// Using translate, our percentage-based positioning is no longer relative to\n// the parent, but rather, the element being translated. Because we're building\n// on top of a percentage-based value already, we find the reciprocal in order\n// to regain context of parent width to calculate end x value.\n// i.e., animated elem is 55% of parent, therefore parent width is 1 / 55%\nconst TRANSLATE_X_END = (1 / (SHIMMER_WIDTH_PERCENTAGE / 100)) * 100\nconst ANIMATION_DURATION_MS = 1000\n\nexport const generateAnimatingShimmerStyles = (theme: Theme) => {\n  const gradientColor = theme.colors.systemGrayscale00\n  const gradientStart = addAlphaToHex(gradientColor, 0)\n  const gradientMid = addAlphaToHex(gradientColor, 0.75)\n  const gradientEnd = gradientStart\n\n  const shimmerSweep = keyframes`\n      0% {\n        transform: translate3d(${TRANSLATE_X_START}%,0,0);\n      }\n      100% {\n        transform: translate3d(${TRANSLATE_X_END}%,0,0);\n      }\n    `\n\n  return {\n    '&:before': {\n      animationDuration: `${ANIMATION_DURATION_MS}ms`,\n      animationIterationCount: 'infinite',\n      animationName: shimmerSweep,\n      animationTimingFunction: 'ease-in-out',\n      background: `linear-gradient(to right, ${gradientStart}, ${gradientMid}, ${gradientEnd})`,\n      content: \"''\",\n      height: '100%',\n      left: 0,\n      position: 'absolute',\n      width: `${SHIMMER_WIDTH_PERCENTAGE}%`,\n    },\n    overflow: 'hidden',\n    position: 'relative',\n  } as const\n}\n","import CategoryCard from '@app/react/components/categories/CategoryCard'\nimport { createStyles } from '@app/react/common/hooks/createStyles'\nimport { spacing } from '@instacart/ids-core'\nimport {\n  useCategoriesLoadingState,\n  useCategoriesFilteredByParent,\n} from '@app/services/catalog/hooks'\nimport { useIsMobile } from '@app/react/common/hooks/useIsMobile'\n\nimport { generateAnimatingShimmerStyles } from '@app/react/ids/enterprise/molecules/LoadingLockups/bases/animations'\n\nconst useStyles = createStyles(theme => ({\n  list: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    listStyleType: 'none',\n    margin: `-${spacing.s32}px -${spacing.s32}px 0`,\n    padding: 0,\n  },\n  listCentered: {\n    justifyContent: 'center',\n  },\n  listItem: {\n    margin: `${spacing.s32}px ${spacing.s16}px 0`,\n    maxWidth: 249,\n    width: '100%',\n  },\n  loadingState: {\n    background: theme.colors.systemGrayscale10,\n    borderRadius: theme.radius.r12,\n    height: 230,\n    width: '100%',\n    ...generateAnimatingShimmerStyles(theme),\n  },\n  mobileList: {\n    margin: `-${spacing.s16}px -${spacing.s8}px 0`,\n  },\n  mobileListItem: {\n    margin: `${spacing.s16}px ${spacing.s8}px 0`,\n    width: `calc(50% - ${spacing.s16}px)`,\n  },\n}))\n\ninterface Props {\n  centered?: boolean\n  filterByParentId?: string\n  showChildren?: boolean\n}\n\nconst CategoryCardCollection = ({\n  centered = false,\n  filterByParentId,\n  showChildren = false,\n}: Props) => {\n  const styles = useStyles()\n\n  const collection = useCategoriesFilteredByParent(filterByParentId)\n  const isLoading = useCategoriesLoadingState()\n  const isMobile = useIsMobile()\n\n  // While categories load, display a loading state.\n  // TODO - move this out in to a separate component.\n  // Should be done when we make category cards more generic\n  if (isLoading) {\n    return (\n      <ul\n        css={[styles.list, centered && styles.listCentered, isMobile && styles.mobileList]}\n        data-test=\"category-card-loading\"\n      >\n        {Array.from(Array(12), (_, index) => (\n          <li\n            css={[styles.listItem, isMobile && styles.mobileListItem]}\n            key={`category-loading-${index}`}\n          >\n            <div css={styles.loadingState} />\n          </li>\n        ))}\n      </ul>\n    )\n  }\n\n  if (!collection.length) {\n    return null\n  }\n\n  return (\n    <ul css={[styles.list, centered && styles.listCentered, isMobile && styles.mobileList]}>\n      {collection.map(category => (\n        <li css={[styles.listItem, isMobile && styles.mobileListItem]} key={category.id}>\n          <CategoryCard category={category} showChildren={showChildren} />\n        </li>\n      ))}\n    </ul>\n  )\n}\n\nexport default CategoryCardCollection\n","import { useSelector } from 'react-redux'\nimport { RootState } from '@app/services/rootReducer'\nimport {\n  categoriesSelector,\n  categoriesFilteredByParentSelector,\n  cateringCategorySelector,\n  categoriesLoadingState,\n  rootCategoriesSelector,\n} from './selectors'\n\nexport const useCategories = () => useSelector(categoriesSelector)\n\nexport const useRootCategories = () => useSelector(rootCategoriesSelector)\n\nexport const useCateringCategory = () => useSelector(cateringCategorySelector)\n\nexport const useCategoriesFilteredByParent = (parentId: string | undefined) =>\n  useSelector((state: RootState) => categoriesFilteredByParentSelector(state, parentId))\n\nexport const useCategoriesLoadingState = () => useSelector(categoriesLoadingState)\n","import { createStyles } from '@app/react/common/hooks/createStyles'\nimport { ReactNode } from 'react'\n\nexport interface SectionTitleProps {\n  element?: 'h1' | 'h2' | 'h3' | 'h4'\n  title: string\n  children?: ReactNode\n}\n\nconst useStyles = createStyles(theme => ({\n  heading: {},\n  headingText: {\n    ...theme.typography.subtitleLarge,\n  },\n}))\n\nconst SectionTitle = ({ element: Element = 'h3', title, children }: SectionTitleProps) => {\n  const styles = useStyles()\n\n  return (\n    <Element css={styles.heading}>\n      <span css={styles.headingText}>{title}</span>\n      {children}\n    </Element>\n  )\n}\n\nexport default SectionTitle\n","import CategoryCardCollection from '@app/react/components/categories/CategoryCardCollection'\nimport SectionTitle from '@app/react/common/SectionTitle'\nimport Section from '@app/react/common/Section'\nimport { useLang } from '@app/services/config/hooks'\n\nconst ShopByAisle = () => {\n  const lang = useLang()\n\n  return (\n    <Section boxed>\n      <SectionTitle title={lang.shopByAisle} />\n      <CategoryCardCollection centered />\n    </Section>\n  )\n}\n\nexport default ShopByAisle\n","import {\n  Children,\n  PropsWithChildren,\n  ReactElement,\n  cloneElement,\n  useEffect,\n  useMemo,\n  useState,\n} from 'react'\nimport { createStyles } from '@app/react/common/hooks/createStyles'\nimport { useKeenSlider } from 'keen-slider/react'\nimport { useLangAria } from '@app/services/config/hooks'\nimport { ChevronLeftIcon, ChevronRightIcon, spacing } from '@instacart/ids-core'\n\nconst useStyles = createStyles(theme => ({\n  activeDot: {\n    backgroundColor: theme.colors.brandPrimaryRegular,\n  },\n  arrow: {\n    cursor: 'pointer',\n    fill: '#343538',\n    height: 17,\n    width: 17,\n  },\n  arrowButton: {\n    WebkitTransform: 'translateY(-50%)',\n    alignItems: 'center',\n    backgroundColor: '#ffffff',\n    borderRadius: '20px',\n    boxShadow: '2px 2px 9px -2px #00000040',\n    display: 'flex',\n    height: '40px',\n    justifyContent: 'center',\n    position: 'absolute',\n    top: '50%',\n    transform: 'translateY(-50%)',\n    width: '40px',\n  },\n  arrowDisabled: {\n    fill: 'rgba(255, 255, 255, 0.5)',\n  },\n  arrowLeft: {\n    left: '-20px',\n    svg: {\n      marginLeft: spacing.s4,\n    },\n  },\n  arrowRight: {\n    left: 'auto',\n    right: '-20px',\n    svg: {\n      marginLeft: -spacing.s4,\n    },\n  },\n  container: {\n    '> *': {\n      minHeight: '100%',\n      overflow: 'hidden',\n      position: 'relative',\n      width: '100%',\n    },\n    WebkitTapHighlightColor: 'transparent',\n    WebkitTouchCollout: 'none',\n    display: 'flex',\n    overflow: 'hidden',\n    position: 'relative',\n    touchAction: 'pan-y',\n    userSelect: 'none',\n  },\n  content: {\n    position: 'relative',\n  },\n  controls: {\n    position: 'relative',\n  },\n  dot: {\n    backgroundColor: theme.colors.systemGrayscale30,\n    borderRadius: '50%',\n    display: 'inline-block',\n    height: 8,\n    margin: 5,\n    transition: 'background-color 0.3s',\n    width: 8,\n  },\n  dotLarge: {\n    height: 12,\n    margin: `${spacing.s16}px ${spacing.s8}px`,\n    width: 12,\n  },\n  dots: {\n    '> *': {\n      display: 'inline-block',\n    },\n    textAlign: 'center',\n  },\n  pause: {\n    left: 2,\n    position: 'absolute',\n    top: 15,\n    width: 16,\n  },\n  roundedCorners: {\n    borderRadius: theme.radius.r8,\n  },\n}))\n\nexport interface SliderProps {\n  ariaName?: string\n  autoplay?: boolean\n  autoplayDelay?: number\n  largeControls?: boolean\n  onChange?: (index: number) => void\n  roundedCorners?: boolean\n  showArrowControls?: boolean\n  showAutoplayControls?: boolean\n}\n\nconst Slider = ({\n  ariaName,\n  autoplay = false,\n  autoplayDelay = 5,\n  children,\n  largeControls = false,\n  onChange,\n  roundedCorners = false,\n  showArrowControls = false,\n  showAutoplayControls = false,\n}: PropsWithChildren<SliderProps>) => {\n  const langAria = useLangAria()\n  const styles = useStyles()\n  const [currentIndex, setCurrentIndex] = useState(0)\n  const [pause, setPause] = useState(false)\n  const [forcePause, setForcePause] = useState(false)\n\n  const autoplayProps = autoplay\n    ? {\n        dragEnd: () => {\n          setPause(false)\n        },\n        dragStart: () => {\n          setPause(true)\n        },\n        duration: 1000,\n        loop: true,\n      }\n    : {}\n\n  const [ref, slider] = useKeenSlider<HTMLDivElement>({\n    ...autoplayProps,\n    // This is a hacky fix to force KeenSlider to return a new updated 'ref' and 'slider' when the number of slides change by passing in different options to pass a deep comparison\n    // https://github.com/rcbyr/keen-slider/blob/118deaaf49885374ce512ecd9c71ecec3dad7174/src/react.js#L25\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore is not assignable to type\n    _fix: Children.count(children),\n    afterChange: ({ details }) => {\n      const { absoluteSlide: index } = details()\n      const slide = ref.current?.children[index]\n      if (slide) {\n        slide.removeAttribute('aria-hidden')\n        slide.removeAttribute('tabindex')\n      }\n    },\n    slideChanged: ({ details }) => {\n      const { relativeSlide } = details()\n      setCurrentIndex(relativeSlide || 0)\n      ;[...(ref.current?.children ?? [])].forEach(slide => {\n        slide.setAttribute('aria-hidden', 'true')\n        slide.setAttribute('tabindex', '-1')\n      })\n    },\n    slides: (): NodeListOf<Element> => (ref.current?.children as unknown) as NodeListOf<Element>,\n  })\n\n  useEffect(() => {\n    slider && slider.refresh()\n  }, [children, slider])\n\n  useEffect(() => {\n    const pauseAutoplay = () => {\n      setPause(true)\n    }\n    const unpauseAutoplay = () => {\n      setPause(false)\n    }\n\n    const currentRef = ref.current\n\n    if (autoplay) {\n      currentRef?.addEventListener('mouseover', pauseAutoplay)\n      currentRef?.addEventListener('mouseout', unpauseAutoplay)\n    }\n\n    return () => {\n      currentRef?.removeEventListener('mouseover', pauseAutoplay)\n      currentRef?.removeEventListener('mouseout', unpauseAutoplay)\n    }\n  }, [autoplay, ref])\n\n  useEffect(() => {\n    if (!autoplay || pause || forcePause) return\n    const timer = setTimeout(() => {\n      if (slider && !pause && !forcePause) {\n        if (currentIndex === slider.details().size - 1) slider.moveToSlideRelative(0)\n        else slider.next()\n      }\n    }, 1000 * autoplayDelay)\n\n    return () => {\n      clearInterval(timer)\n    }\n  }, [autoplay, autoplayDelay, currentIndex, forcePause, pause, slider])\n\n  const clonedChildren = useMemo(\n    () =>\n      Children.map(children, (child, index) =>\n        cloneElement(child as ReactElement, {\n          'aria-label': langAria.slideNumberOfCount\n            // eslint-disable-next-line no-template-curly-in-string\n            .replace('${number}', (index + 1).toString())\n            // eslint-disable-next-line no-template-curly-in-string\n            .replace('${count}', Children.count(children).toString()),\n          role: 'group',\n        })\n      ),\n    [children, langAria]\n  )\n\n  const slideCount = slider ? slider.details().size : 0\n\n  const indexes = useMemo(() => [...Array(slideCount).keys()], [slideCount])\n\n  useEffect(() => {\n    onChange?.(currentIndex)\n  }, [currentIndex, onChange])\n\n  return (\n    <section aria-label={(ariaName ? `${ariaName}, ` : '') + langAria.slider}>\n      <div css={styles.content}>\n        <p className=\"screen-reader-text\">{langAria.sliderInstructions}</p>\n        <div\n          css={[styles.container, roundedCorners && styles.roundedCorners]}\n          ref={ref}\n          data-test=\"slider-slides\"\n        >\n          {clonedChildren}\n        </div>\n        {showArrowControls && slider && (\n          <>\n            <button\n              aria-label={langAria.sliderPreviousSlide}\n              css={[styles.arrowButton, styles.arrowLeft]}\n              onClick={e => {\n                e.stopPropagation()\n                slider.prev()\n              }}\n            >\n              <ChevronLeftIcon css={styles.arrow} />\n            </button>\n            <button\n              aria-label={langAria.sliderNextSlide}\n              css={[styles.arrowButton, styles.arrowRight]}\n              onClick={e => {\n                e.stopPropagation()\n                slider.next()\n              }}\n            >\n              <ChevronRightIcon css={styles.arrow} />\n            </button>\n          </>\n        )}\n      </div>\n      <div css={styles.controls}>\n        {autoplay && showAutoplayControls && (\n          <button\n            aria-label={forcePause ? langAria.sliderPlay : langAria.sliderPause}\n            css={styles.pause}\n            onClick={() => {\n              setForcePause(!forcePause)\n            }}\n          >\n            {forcePause && <span className=\"icon-play\" />}\n            {!forcePause && <span className=\"icon-pause\" />}\n          </button>\n        )}\n        {indexes && (\n          <ul css={styles.dots}>\n            {indexes.map(index => {\n              const isActive = currentIndex === index\n              return (\n                <li key={index}>\n                  <button\n                    css={[\n                      styles.dot,\n                      largeControls && styles.dotLarge,\n                      isActive && styles.activeDot,\n                    ]}\n                    onClick={() => {\n                      slider.moveToSlideRelative(index)\n                    }}\n                    aria-label={\n                      /* eslint-disable-next-line no-template-curly-in-string */\n                      langAria.goToSlide.replace('${index}', (index + 1).toString())\n                    }\n                    aria-current={isActive ? 'true' : undefined}\n                    data-test=\"slider-dot\"\n                  />\n                </li>\n              )\n            })}\n          </ul>\n        )}\n      </div>\n    </section>\n  )\n}\n\nexport default Slider\n","export const formatCurrency = (amount: string | number) => {\n  if (!amount || Number.isNaN(amount)) {\n    return ''\n  }\n\n  let formattedAmount\n\n  if (typeof amount === 'string') {\n    formattedAmount = Number(amount)\n  } else {\n    formattedAmount = amount\n  }\n\n  return `$${formattedAmount.toFixed(2).replace(/\\d(?=(\\d{3})+\\.)/g, '$&,')}`\n}\n","import React from 'react'\nimport { createStyles } from '@app/react/common/hooks/createStyles'\nimport { spacing, responsive } from '@instacart/ids-core'\nimport AppLink from '@app/react/common/AppLink'\nimport { useLang } from '@app/services/config/hooks'\nimport { Tag } from '@app/types/tags'\nimport { useIsMobile } from '@app/react/common/hooks/useIsMobile'\n\nconst ICON_SIZE = '60px'\nconst MOBILE_ICON_SIZE = '40px'\n\nconst useStyles = createStyles(theme => ({\n  goIcon: {\n    marginLeft: spacing.s8,\n    verticalAlign: 'middle',\n  },\n  goLink: {\n    fontSize: theme.typography.bodySmall2.fontSize,\n    verticalAlign: 'middle',\n  },\n  icon: {\n    color: theme.colors.systemGrayscale00,\n    flex: `0 0 ${ICON_SIZE}`,\n    fontSize: '30px',\n    height: ICON_SIZE,\n    lineHeight: ICON_SIZE,\n    textAlign: 'center',\n    width: ICON_SIZE,\n    [responsive.down('c')]: {\n      flex: `0 0 ${MOBILE_ICON_SIZE}`,\n      fontSize: '20px',\n      height: MOBILE_ICON_SIZE,\n      lineHeight: MOBILE_ICON_SIZE,\n      width: MOBILE_ICON_SIZE,\n    },\n  },\n  infoWrapper: {\n    alignSelf: 'center',\n    padding: spacing.s12,\n    [responsive.down('c')]: {\n      padding: 0,\n      whiteSpace: 'nowrap',\n    },\n  },\n  link: {\n    display: 'flex',\n    [responsive.down('c')]: {\n      alignItems: 'center',\n      flexDirection: 'column',\n    },\n  },\n  name: {\n    ...theme.typography.bodyMedium1,\n    [responsive.down('c')]: {\n      display: 'inline-block',\n      padding: spacing.s8,\n      textAlign: 'center',\n      whiteSpace: 'normal',\n    },\n  },\n  root: {\n    alignItems: 'center',\n    display: 'flex',\n    margin: `${spacing.s12}px 0`,\n    width: '270px',\n    [responsive.down('c')]: {\n      flex: '0 1 content',\n      padding: spacing.s4,\n    },\n  },\n  roundedIcon: {\n    borderRadius: '50%',\n  },\n}))\n\nconst TagItem = ({ color, name, icon, id }: Tag) => {\n  const styles = useStyles()\n  const lang = useLang()\n  const isMobile = useIsMobile()\n\n  const backgroundColor = {\n    backgroundColor: color,\n  }\n\n  const linkColor = {\n    color,\n  }\n\n  return (\n    <li css={styles.root}>\n      <AppLink to={`/shop/categories?tags=${id}`} css={[styles.link, color && linkColor]}>\n        <span\n          className=\"tag-icon\"\n          css={[styles.icon, color && backgroundColor, styles.roundedIcon]}\n        >\n          <span className={`icon-${icon}`} aria-hidden=\"true\" />\n        </span>\n        <span css={styles.infoWrapper}>\n          <span data-test=\"tagitem-title\" css={styles.name}>\n            {name}\n          </span>\n          <br />\n          {!isMobile && (\n            <span css={styles.goLink}>\n              {lang.shopNow} <span css={styles.goIcon} className=\"icon-go\" aria-hidden=\"true\" />\n            </span>\n          )}\n        </span>\n      </AppLink>\n    </li>\n  )\n}\n\nexport default TagItem\n","import { createStyles } from '@app/react/common/hooks/createStyles'\nimport { useLang } from '@app/services/config/hooks'\nimport loadAssetImage from '@app/utils/loadAssetImage'\nimport AppLink from '@app/react/common/AppLink'\nimport { useTags } from '@app/services/tags/hooks'\nimport { spacing, responsive } from '@instacart/ids-core'\nimport { useIsMobile } from '@app/react/common/hooks/useIsMobile'\nimport Section from '@app/react/common/Section'\nimport TagItem from './TagItem'\n\ninterface WaysToShopProps {\n  showMoreLink?: boolean\n}\n\nconst useStyles = createStyles(theme => ({\n  container: {\n    display: 'flex',\n    [responsive.down('c')]: {\n      flexDirection: 'column',\n      overflowX: 'scroll',\n      padding: 0,\n    },\n  },\n  goIcon: {\n    marginLeft: spacing.s8,\n    verticalAlign: 'middle',\n  },\n  goLink: {\n    color: theme.colors.brandPrimaryRegular,\n    fontSize: theme.typography.bodySmall2.fontSize,\n    fontStyle: 'italic',\n    textDecoration: 'underline',\n    verticalAlign: 'middle',\n  },\n  header: {\n    ...theme.typography.bodyLarge2,\n    margin: `${spacing.s8}px 0`,\n\n    strong: {\n      fontSize: '26px',\n      fontWeight: theme.typography.subtitleMedium.fontWeight,\n    },\n  },\n  icon: {\n    fontSize: '29px',\n    lineHeight: 1,\n  },\n  labelWrapper: {\n    alignItems: 'center',\n    backgroundImage: `url(${loadAssetImage('images/quickshop-arrow.svg')})`,\n    backgroundPosition: '100%',\n    backgroundRepeat: 'no-repeat',\n    backgroundSize: 'cover',\n    display: 'flex',\n    flex: '1 0 auto',\n    marginRight: spacing.s32,\n    padding: `${spacing.s24}px ${spacing.s16}px`,\n    width: '247px',\n  },\n  shopByTitle: {\n    alignSelf: 'center',\n    flexDirection: 'column',\n    fontSize: theme.typography.subtitleLarge.fontSize,\n    fontWeight: theme.typography.subtitleLarge.fontWeight,\n    paddingBottom: spacing.s12,\n  },\n  tagsWrapper: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    width: '100%',\n    [responsive.down('c')]: {\n      alignItems: 'baseline',\n      flexWrap: 'nowrap',\n      overflowX: 'scroll',\n      position: 'relative',\n    },\n  },\n}))\n\nconst WaysToShop = ({ showMoreLink }: WaysToShopProps) => {\n  const styles = useStyles()\n  const lang = useLang()\n  const tags = useTags('quickshop')\n  const isMobile = useIsMobile()\n\n  return (\n    <Section boxed={!isMobile} css={styles.container}>\n      {!isMobile ? (\n        <div css={styles.labelWrapper}>\n          <div className=\"label\">\n            <span css={styles.icon} className=\"icon icon-cart\" aria-hidden=\"true\" />\n            <h2 css={styles.header}>\n              {lang.exploreMore}\n              <br />\n              <strong>{lang.waysToShop}</strong>\n            </h2>\n            {showMoreLink && (\n              <AppLink\n                css={styles.goLink}\n                to=\"/shop\"\n                aria-label={`${lang.seeMore} ${lang.waysToShop}`}\n              >\n                {lang.seeMore}\n                <span css={styles.goIcon} className=\"icon-go\" aria-hidden=\"true\" />\n              </AppLink>\n            )}\n          </div>\n        </div>\n      ) : (\n        <h2 css={styles.shopByTitle}>{lang.shopBy}</h2>\n      )}\n      <ul data-test=\"waysToShop-tags\" css={styles.tagsWrapper}>\n        {tags?.map(tag => tag && <TagItem key={tag.id} {...tag} />)}\n      </ul>\n    </Section>\n  )\n}\n\nexport default WaysToShop\n","import { StoreProduct } from '@app/types/product'\nimport { TagOverridesLocation } from '@app/types/tags'\nimport { useSelector } from 'react-redux'\nimport { productTagsSelector, tagsSelector } from './selectors'\n\nexport const useTags = (tagLocation: TagOverridesLocation) =>\n  useSelector(state => tagsSelector(state, { tagLocation }))\n\nexport const useProductTags = (\n  product: StoreProduct,\n  tagLocation: TagOverridesLocation = 'productCell'\n) => useSelector(state => productTagsSelector(state, { product, tagLocation }))\n","import _ from 'lodash'\n\n// TODO - make this more readable\nexport const productPlacementsFromProducts = results => {\n  return results?.placements?.length > 0\n    ? results.placements\n        // eslint-disable-next-line array-callback-return\n        .map(placement => {\n          if (placement.item_type === 'product') {\n            placement.product.placement = true\n            return placement.product\n          }\n        })\n        .filter(item => item)\n    : []\n}\n\n// Massage the image placements returned from /store_products into an object as returned\n// by /placements for consistent use within analytics\nexport const formatImagePlacementForAnalytics = (placement, type) => ({\n  route: type,\n  media: { type: 'image' },\n  target: placement.target,\n  name: placement.name,\n  id: placement.id,\n})\n\nexport const insertPlacementsInProducts = (placements = [], products = []) => {\n  /* Both splice and the spread operator which are used below remove all\n  non numeric keys from the products object:\n\n  Example: products = { 0: item1, ... 24: item24, item_count: 25, placements: [] }\n  Becomes: products = { 0: item1, ... 24: item24 }\n\n  To avoid that, and retain all non numeric keys so as to mutate the object as\n  as little as possible, the code below copies the item from the object, splices\n  the ads into the correct locations, then manually ads the numeric keys back into\n  the correct spots in the object\n\n  NOTE: This will only insert product placements into the array, not image placements\n\n  Input: products = { 0: item1, ... 24: item24, item_count: 25, placements: [{ id: item123, position: 1 }], ... }\n  Output: products = { 0: item123, 1: item1, ... 24: item24, item_count: 26, ... }\n  */\n\n  // IC, Elevaate, or Criteo ads.\n  const positionedPlacements = []\n  // Unata product placements.\n  const unpositionedProductPlacements = []\n  let areUnpositionedProductPlacementsFirst\n  // Unata image placements.\n  const unpositionedNonProductPlacements = []\n  placements.forEach(placement => {\n    if (placement.item_type !== 'product') {\n      unpositionedNonProductPlacements.push(placement)\n    } else if (typeof placement.product?.position === 'number') {\n      positionedPlacements.push(placement)\n      areUnpositionedProductPlacementsFirst ??= false\n    } else {\n      unpositionedProductPlacements.push(placement)\n      areUnpositionedProductPlacementsFirst ??= true\n    }\n  })\n\n  // Populate the placement list only with unpositioned non-product placements.\n  products.placements = unpositionedNonProductPlacements\n\n  // Order positioned product placements by their position to insert them into\n  // the product list later.\n  const sortedPositionedPlacements = _.sortBy(\n    positionedPlacements,\n    placement => placement.product.position\n  )\n\n  // Insert positioned product placements at their respected positions.\n  sortedPositionedPlacements.forEach(placement => {\n    const index = placement.product.position - 1\n    products.splice(index, 0, placement.product)\n  })\n\n  // Determine an index at which to insert unpositioned placements relative to positioned ones.\n  let unpositionedProductPlacementsIndex = 0\n  if (sortedPositionedPlacements.length) {\n    const relativePositionedPlacement = areUnpositionedProductPlacementsFirst\n      ? sortedPositionedPlacements[0]\n      : sortedPositionedPlacements[sortedPositionedPlacements.length - 1]\n    unpositionedProductPlacementsIndex = relativePositionedPlacement.position ?? 0\n  }\n\n  // Insert unpositioned placements.\n  products.splice(\n    unpositionedProductPlacementsIndex,\n    0,\n    ...unpositionedProductPlacements.map(({ product }) => product)\n  )\n\n  return products\n}\n","import { ReactNode } from 'react'\nimport { spacing } from '@instacart/ids-core'\nimport { createStyles } from '@app/react/common/hooks/createStyles'\nimport { useIsMobile } from '@app/react/common/hooks/useIsMobile'\n\nexport interface SectionProps {\n  boxed?: boolean\n  children: ReactNode\n}\n\nconst useStyles = createStyles(() => ({\n  boxed: {\n    marginLeft: 'auto',\n    marginRight: 'auto',\n    maxWidth: 1154,\n    width: '100%',\n  },\n  mobileRoot: {\n    marginBottom: spacing.s16,\n    marginTop: spacing.s16,\n    padding: `0 ${spacing.s16}px`,\n  },\n  root: {\n    marginBottom: spacing.s32,\n    marginTop: spacing.s32,\n    padding: `0 ${spacing.s32}px`,\n  },\n}))\n\nconst Section = ({ boxed, children, ...rest }: SectionProps) => {\n  // TODO - update styles to match designs\n  const styles = useStyles()\n  const isMobile = useIsMobile()\n\n  return (\n    <section css={[styles.root, boxed && styles.boxed, isMobile && styles.mobileRoot]} {...rest}>\n      {children}\n    </section>\n  )\n}\n\nexport default Section\n","/* eslint-disable global-require */\nimport { ShoppingListItem } from '@app/types/shoppingList'\nimport { StoreProduct } from '@app/types/product'\nimport { Category } from '@app/types/category'\nimport { Recipe } from '@app/types/recipe'\nimport escapeImageUrl from '@app/utils/images/escapeImageUrl'\nimport { isRxProduct } from '@instacart/enterprise-services/product/utils'\n\nexport type ImageShape = 'square' | 'rectangle'\nexport type Size = 'small' | 'medium' | 'large'\n\nconst isShoppingListItem = (\n  product: ShoppingListItem | StoreProduct\n): product is ShoppingListItem => (product as ShoppingListItem).item_type !== undefined\n\nconst getProductImageURL = (product: ShoppingListItem | StoreProduct, size?: Size) => {\n  // due to possible incoming product as shoppingList item, need to extract storeProduct from it\n  let storeProduct: StoreProduct\n\n  // Display rx default image when product is Rx otherwise show store product image\n  if (isShoppingListItem(product)) {\n    if (isRxProduct(product)) {\n      return require('static/images/rx-default-image.png')\n    }\n    storeProduct = product.store_product\n  } else {\n    storeProduct = product\n  }\n\n  if (storeProduct && size) {\n    const imageTile = storeProduct?.images?.tile?.[size]\n    if (imageTile) {\n      return escapeImageUrl(imageTile)\n    }\n  }\n\n  return require('static/images/no-product-image.jpg')\n}\n\nconst getDefaultRecipeImageURL = (shape: ImageShape) => {\n  if (shape === 'square') {\n    return require('static/images/no-recipe-image-square.png')\n  }\n\n  if (shape === 'rectangle') {\n    return require('static/images/no-recipe-image-rectangle.png')\n  }\n  return null\n}\n\nconst getRecipeImageURL = (recipe: Recipe, shape: ImageShape) => {\n  const recipeImageURL = recipe?.media?.[0]?.image?.header\n\n  return recipeImageURL ? escapeImageUrl(recipeImageURL) : getDefaultRecipeImageURL(shape)\n}\n\nconst getRecipeCategoryImageURL = (recipeCategory: Category, size?: Size) => {\n  const defaultSize = size || 'medium'\n  const recipeCategoryImageURL = recipeCategory.images?.tile?.[defaultSize]\n\n  return recipeCategoryImageURL\n    ? escapeImageUrl(recipeCategoryImageURL)\n    : getDefaultRecipeImageURL('square')\n}\n\nexport { getProductImageURL, getRecipeImageURL, getRecipeCategoryImageURL }\n","import request from '@app/utils/request'\nimport { Collection } from '@app/types/collection'\nimport { COLLECTION_LIMIT_MULTIPLIER } from './constants'\n\nexport const getOne = (collectionId: string | number, limit: number) =>\n  request<Collection>(`/collections/${collectionId}`, {\n    querystring: {\n      limit: limit * COLLECTION_LIMIT_MULTIPLIER,\n    },\n  })\n","import { CollectionId } from '@app/types/collection'\nimport { useQuery, UseQueryOptions } from 'react-query'\nimport { PromiseType } from 'utility-types'\nimport { getOne } from './api'\nimport { PRODUCT_LIMIT, SINGLE_COLLECTION_QUERY_KEY } from './constants'\n\n/**\n * Query single collection by id\n */\nexport const useCollectionQuery = (\n  collectionId: CollectionId,\n  limit: number = PRODUCT_LIMIT,\n  configOptions?: UseQueryOptions<PromiseType<ReturnType<typeof getOne>>>\n) => {\n  return useQuery<PromiseType<ReturnType<typeof getOne>>>(\n    [SINGLE_COLLECTION_QUERY_KEY, { collectionId }],\n    () => getOne(collectionId, limit),\n    configOptions\n  )\n}\n","/**\n * Product selectors are designed to be Redux-ready\n */\nimport { createSelector } from 'reselect'\nimport { auth as authService } from '@instacart/enterprise-services'\nimport { LabelTypes, StockLevels, StoreProduct } from '@app/types/product'\nimport { formatCurrency } from '@app/utils/currency'\nimport authSelectors from '@instacart/enterprise-services/auth/selectors'\nimport { getProductImageURL } from '@app/utils/images/productImages'\nimport { ShoppingListItem } from '@app/types/shoppingList'\nimport { FulfillmentType } from '@app/types/config'\nimport interpolate from '@instacart/enterprise-services/lang/interpolate'\nimport dayjs from 'dayjs'\nimport { PromoMarkerProps } from '@app/react/ids/enterprise/molecules/ItemB/ItemPromoMarker'\nimport { SaveForLaterList } from '@app/react/ids/enterprise/organisms/SaveForLater/types'\nimport { configSelector, langAriaSelector, langSelector } from '../config/selectors'\nimport { isMobileSelector } from '../browser/selectors'\nimport { userListsSelector } from '../userList/selectors'\nimport { findItemInList } from '../userList/utils'\n\ntype FormatPriceProps = {\n  price: number\n  quantity: number\n  priceWithNumberTemplate: string\n  unit?: string\n}\n\nconst formatPrice = ({\n  price,\n  quantity,\n  priceWithNumberTemplate,\n  unit,\n}: FormatPriceProps): string => {\n  const priceString = formatCurrency(price)\n\n  if (quantity > 1) {\n    const qty = unit === 'ea' || !unit ? `${quantity}` : `${quantity} ${unit}`\n    return interpolate(priceWithNumberTemplate, { price: priceString, quantity: qty })\n  }\n\n  if (unit) return `${priceString} /${unit}`\n\n  return priceString\n}\n\n// TODO: The current implementation of this selector is a placeholder for when\n// we source products from Redux.\nexport const productSelector = (_state: unknown, props: Record<'product', StoreProduct>) =>\n  props.product\n\n/**\n * Returns the associated ShoppingListItem object, if one exists in the cart.\n * TODO: This selector needs to be updated. Right now it expects you to feed it\n * the ShoppingListItem because right now the shopping cart is not in the main redux\n * store. It's a bit of a hack/placeholder for future implementation. It exists to allow\n * other selectors to use it already.\n */\nexport const shoppingCartItemSelector = (\n  _state: unknown,\n  props: Record<'cartItem', ShoppingListItem | undefined>\n) => props.cartItem\n\nexport const hasLoyaltyCardSelector = (_state: unknown, props: Record<'hasLoyaltyCard', boolean>) =>\n  props.hasLoyaltyCard\n\nexport const promoDiscountSelector = createSelector(\n  productSelector,\n  configSelector,\n  hasLoyaltyCardSelector,\n  langSelector,\n  isMobileSelector,\n  // eslint-disable-next-line max-params\n  (product, config, hasLoyaltyCard, lang, isMobile): PromoMarkerProps | undefined => {\n    const { loyalty_price, promo_tag, sale_price, sale_end_date, loyalty_end_date } = product\n    const { enableLoyaltyPricing, showSaleEndDate } = config\n\n    const result: PromoMarkerProps = {\n      isLoyalty: false,\n      text: '',\n    }\n\n    if (promo_tag) {\n      if (enableLoyaltyPricing && loyalty_price) {\n        result.isLoyalty = true\n\n        if (hasLoyaltyCard) {\n          result.text = promo_tag as string\n\n          if (showSaleEndDate && !isMobile && loyalty_end_date) {\n            result.tooltipText = interpolate(lang.saleEndDate, {\n              endDate: dayjs(loyalty_end_date).format('MMM D'),\n            })\n          }\n        } else {\n          result.text = lang.loyaltyPricing.tag\n\n          if (!isMobile) {\n            result.tooltipText = interpolate(lang.loyaltyPricing.tagTooltip, { promo: promo_tag })\n          }\n        }\n\n        return result\n      }\n      if (sale_price) {\n        result.text = promo_tag as string\n\n        if (showSaleEndDate && !isMobile && sale_end_date) {\n          result.tooltipText = interpolate(lang.saleEndDate, {\n            endDate: dayjs(sale_end_date).format('MMM D'),\n          })\n        }\n\n        return result\n      }\n    }\n\n    return undefined\n  }\n)\n\nexport const promoOfferSelector = createSelector(\n  productSelector,\n  configSelector,\n  langSelector,\n  // eslint-disable-next-line max-params\n  (product, config, lang): PromoMarkerProps | undefined => {\n    const { offer_title, offers } = product\n    const { enableOfferBadgeTypes, enableOfferBadge } = config\n\n    const result: PromoMarkerProps = {\n      isLoyalty: false,\n      text: '',\n    }\n\n    if (offer_title?.length) {\n      result.text = offer_title\n\n      return result\n    }\n\n    const thereAreSupportedOffers = offers?.some(offer =>\n      enableOfferBadgeTypes.includes(offer.offer_type)\n    )\n    if (enableOfferBadge && thereAreSupportedOffers) {\n      result.text = lang.offerInside\n\n      return result\n    }\n\n    return undefined\n  }\n)\n\nexport const promotionsSelector = createSelector(\n  promoDiscountSelector,\n  promoOfferSelector,\n  (discount, offer): PromoMarkerProps[] => [\n    ...(discount ? [discount] : []),\n    ...(offer ? [offer] : []),\n  ]\n)\n\n/**\n * Returns whether or not UOM should be displayed for a given product\n * Takes into account possible whitelist in the config\n */\nexport const shouldShowUOMSelector = createSelector(\n  productSelector,\n  configSelector,\n  (product, config) => {\n    const uom = product?.uom_price?.uom || ''\n    const whitelist = config.displayPriceUnitOfMeasurementAllowlist\n\n    // If the white list is null, consider all uoms ok\n    const enabled = whitelist === null || whitelist?.includes(uom)\n    return Boolean(enabled && uom)\n  }\n)\n\n/**\n * Returns current price per unit, e.g. $0.39/oz\n */\nexport const pricePerUnitStringSelector = createSelector(\n  shouldShowUOMSelector,\n  productSelector,\n  (enabled, product) => {\n    if (!enabled) return undefined\n    if (!product.uom_price) return undefined\n\n    const { price, uom } = product.uom_price\n\n    return `${formatCurrency(price)}/${uom}`\n  }\n)\n\n/**\n * Returns regular/base price without any discounts of promos\n */\nexport const regularPriceSelector = createSelector(productSelector, product => product.base_price)\n\n/**\n * Returns formatted regular price string\n */\nexport const regularPriceStringSelector = createSelector(\n  productSelector,\n  langSelector,\n  (product, lang) => {\n    const { base_price, display_uom, base_quantity } = product\n\n    return formatPrice({\n      price: base_price,\n      priceWithNumberTemplate: lang.priceWithQuantity,\n      quantity: base_quantity,\n      unit: display_uom,\n    })\n  }\n)\n\n/**\n * returns loyalty loyalty price, if set\n */\nexport const loyaltyPriceSelector = createSelector(\n  productSelector,\n  product => product.loyalty_price || undefined\n)\n\n/**\n * Returns formatted loyalty price, if set\n */\nexport const loyaltyPriceStringSelector = createSelector(\n  productSelector,\n  langSelector,\n  (product, lang) => {\n    if (!product.loyalty_price) return\n\n    const { loyalty_price, loyalty_quantity, display_uom } = product\n\n    return formatPrice({\n      price: loyalty_price,\n      priceWithNumberTemplate: lang.priceWithQuantity,\n      quantity: loyalty_quantity || 1,\n      unit: display_uom,\n    })\n  }\n)\n\n/**\n * returns sale price, if set\n */\nexport const salePriceSelector = createSelector(\n  productSelector,\n  product => product.sale_price || undefined\n)\n\n/**\n * returns formatted sale price, if set\n */\nexport const salePriceStringSelector = createSelector(\n  productSelector,\n  langSelector,\n  (product, lang) => {\n    const { sale_price, sale_quantity, display_uom } = product\n\n    if (!sale_price) return\n\n    return formatPrice({\n      price: sale_price,\n      priceWithNumberTemplate: lang.priceWithQuantity,\n      quantity: sale_quantity || 1,\n      unit: display_uom,\n    })\n  }\n)\n\n/**\n * Returns the current price which in the following order:\n * 1) Loyalty Price\n * 2) Sale Price\n * 3) Regular Price\n */\nexport const currentPriceSelector = createSelector(\n  regularPriceSelector,\n  salePriceSelector,\n  loyaltyPriceSelector,\n  (regularPrice, salePrice, loyaltyPrice): number => {\n    return loyaltyPrice || salePrice || regularPrice\n  }\n)\n\n/**\n * Returns the formatted current price\n */\nexport const currentPriceStringSelector = createSelector(\n  regularPriceStringSelector,\n  salePriceStringSelector,\n  loyaltyPriceStringSelector,\n  (regularPrice, salePrice, loyaltyPrice) => {\n    return loyaltyPrice || salePrice || regularPrice\n  }\n)\n\n/**\n * Returns whether or not the product has promo pricing,\n * e.g. sale or loyalty pricing. Does not take other offers\n * into consideration\n */\nexport const hasPromoPriceSelector = createSelector(\n  loyaltyPriceSelector,\n  salePriceSelector,\n  (loyalty, sale) => Boolean(loyalty || sale)\n)\n\n/*\n * Indicates that current price has confirmed discount that comes from sale promo type or\n * loyalty type + loyalty card on file\n */\nexport const discountedPriceIsConfirmedSelector = createSelector(\n  promoDiscountSelector,\n  hasLoyaltyCardSelector,\n  (promo, hasLoyaltyCard): boolean =>\n    (promo?.isLoyalty === true && hasLoyaltyCard) || promo?.isLoyalty === false\n)\n\n/**\n * Returns whether the product is available or out of stock\n */\nexport const isAvailableSelector = createSelector(\n  productSelector,\n  configSelector,\n  (product, config) => {\n    if (!config.enableOutOfStockUIBehaviour) {\n      return true\n    }\n    const stockLevel = product.availability?.stock_level\n\n    return stockLevel !== StockLevels.OUT_OF_STOCK\n  }\n)\n\n/**\n * Returns whether the product can be customized\n */\nexport const isCustomizableSelector = createSelector(productSelector, product =>\n  Boolean(product.product_config?.options?.length)\n)\n\n/**\n * Check against config, if the item can be added to cart regardless of its stock level\n */\nexport const allowOutOfStockAddSelector = createSelector(\n  authService.selectors.getUserIntent,\n  configSelector,\n  (intent, { enableOutOfStockAddToCartContexts }) =>\n    Boolean(intent && enableOutOfStockAddToCartContexts?.includes(intent))\n)\n\nexport const showPriceAlertSelector = createSelector(\n  configSelector,\n  authSelectors.getUser,\n  (config, user): boolean =>\n    !(\n      config.disablePriceAlerts ||\n      config.disablePriceAlertsOnProductCells ||\n      !user?.status ||\n      user?.status === 'trial'\n    )\n)\n\nexport const showSaveForLaterSelector = createSelector(\n  configSelector,\n  authSelectors.getUser,\n  productSelector,\n  (config, user, product) =>\n    !(\n      config.disableSaveForLaterLists ||\n      product.product_config ||\n      !user?.status ||\n      user?.status === 'trial'\n    )\n)\n\n/**\n * Returns the quantity of the product in the shopping cart\n */\nexport const quantityInCartSelector = createSelector(\n  shoppingCartItemSelector,\n  shoppingCartItem => shoppingCartItem?.quantity || 0\n)\n\n/**\n * Return maximum allowed quantity of the product in the cart\n */\nexport const maxQuantitySelector = createSelector(\n  productSelector,\n  product => product?.ext_data?.max_in_cart ?? product.ordering_parameters.max\n)\n\n/**\n * Returns minimum allowed quantity of the product in the cart\n */\nexport const minQuantitySelector = createSelector(\n  productSelector,\n  product => product.ordering_parameters.min\n)\n\n/**\n * Returns the quantity of product each cart add will increment by\n */\nexport const incrementQuantitySelector = createSelector(\n  productSelector,\n  product => product.ordering_parameters.increment\n)\n\n/**\n * Returns the quantity of product that will be\n * added to cart if no specific quantity is requested.\n * If the product is in the cart already, will be equal to\n * increment quantity. Otherwise, return minimum cart quantity\n */\nexport const defaultAddToCartQty = createSelector(\n  incrementQuantitySelector,\n  minQuantitySelector,\n  quantityInCartSelector,\n  (increment, min, qtyInCart) => {\n    return qtyInCart > 0 ? increment : min\n  }\n)\n\nexport const orderByUnitSelector = createSelector(\n  productSelector,\n  product => product.ordering_parameters.display_name\n)\n\nexport const ratingSelector = createSelector(\n  productSelector,\n  product => product.product_rating.average_rating\n)\n\nexport const numberOfRatingsSelector = createSelector(\n  productSelector,\n  product => product.product_rating.user_count\n)\n\nexport const sizeSelector = createSelector(\n  productSelector,\n  product => product.size_string || undefined\n)\n\nexport const sizeWithPricePerUnitSelector = createSelector(\n  sizeSelector,\n  pricePerUnitStringSelector,\n  (size, pricePerUnit) => {\n    if (size && pricePerUnit) {\n      return `${size} (${pricePerUnit})`\n    }\n\n    return size || pricePerUnit\n  }\n)\n\nexport const subscribedForPriceAlertSelector = createSelector(productSelector, product =>\n  Boolean(product.price_alert)\n)\n\n/**\n * Returns whether or not the product is allowed\n * to be added to cart. Takes into account max order quantity\n * and product availability\n */\nexport const allowAddToCartSelector = createSelector(\n  defaultAddToCartQty,\n  maxQuantitySelector,\n  isAvailableSelector,\n  allowOutOfStockAddSelector,\n  quantityInCartSelector,\n  (_arg0: unknown, props: Record<'addToCartQty', number | undefined>) => props.addToCartQty,\n  // eslint-disable-next-line max-params\n  (defaultQtyToAdd, max, isAvailable, allowOOS, currentQty, qtyToAdd) => {\n    const newQty = currentQty + (qtyToAdd || defaultQtyToAdd)\n    return Boolean(newQty <= max && (isAvailable || allowOOS))\n  }\n)\n\nexport const allowDecrementCartQuantitySelector = createSelector(\n  quantityInCartSelector,\n  minQuantitySelector,\n  (qty, min) => qty >= min\n)\n\nexport const decrementCartQuantityType = createSelector(\n  quantityInCartSelector,\n  minQuantitySelector,\n  (qty, min) => (qty > min ? 'subtract' : 'trash')\n)\n\n// TODO: Implement existing logic from Angular\nexport const titleSelector = createSelector(productSelector, langSelector, (product, lang) => {\n  if (product.average_weight) {\n    const averageWeight = interpolate(lang.avgWeight, {\n      product: product.average_weight,\n      unit: product.display_uom,\n    })\n    return `${product.name} (${averageWeight})`\n  }\n\n  return product.name\n})\n\nexport const aisleSelector = createSelector(productSelector, product => product.aisle || undefined)\n\n/**\n * addToCart Aria label\n */\nexport const addToCartLabelSelector = createSelector(\n  authService.selectors.getUserIntent,\n  langSelector,\n  (intent, lang) => {\n    if (intent === FulfillmentType.InStore) {\n      return lang.addToListButtonLabel\n    }\n    // TODO: Modifying order\n    // return $rootScope.modifyingOrder ? lang.addToOrderButtonLabel : lang.addToCartButtonLabel\n    return lang.addToCartButtonLabel\n  }\n)\n\nexport const featuredLabelSelector = createSelector(\n  configSelector,\n  langSelector,\n  (_state: unknown, props: Record<'featured', boolean>) => props.featured,\n  (config, lang, isFeatured) => {\n    if (!isFeatured || !config.showFeaturedLabel) return undefined\n\n    return lang.featured\n  }\n)\n\n/**\n * Returns the text for the \"Sponsored\" label\n * It could either be the default language or custom text depending on\n * who sponsored the product.\n */\nexport const sponsoredLabelSelector = createSelector(\n  productSelector,\n  configSelector,\n  langSelector,\n  (product, config, lang) => {\n    if (!product.sponsored || !config.showSponsoredLabel || product.sponsoredLabel === false)\n      return undefined\n\n    if (product.sponsoredBy && Object.keys(lang.sponsoredBy).includes(product.sponsoredBy)) {\n      return lang.sponsoredBy[product.sponsoredBy as keyof typeof lang.sponsoredBy]\n    }\n\n    return lang.sponsored\n  }\n)\n\nexport const previouslyPurchasedSelector = createSelector(productSelector, product =>\n  product.tags.includes('purchased')\n)\n\nexport const previouslyPurchasedLabelSelector = createSelector(\n  previouslyPurchasedSelector,\n  configSelector,\n  (showLabel, config) => (showLabel ? config.buyItAgain.displayName : undefined)\n)\n\n/**\n * Returns the label text, e.g. \"Featured\" or \"Buy it again\".\n */\nexport const labelSelector = createSelector(\n  featuredLabelSelector,\n  sponsoredLabelSelector,\n  previouslyPurchasedLabelSelector,\n  (featured, sponsored, previouslyPurchased) => {\n    return featured || sponsored || previouslyPurchased\n  }\n)\n\nexport const labelTypeSelector = createSelector(\n  featuredLabelSelector,\n  sponsoredLabelSelector,\n  previouslyPurchasedLabelSelector,\n  (featured, sponsored, previouslyPurchased) => {\n    if (featured) return LabelTypes.Featured\n    if (sponsored) return LabelTypes.Sponsored\n    if (previouslyPurchased) return LabelTypes.Purchased\n    return undefined\n  }\n)\n\n// Item Tile-specific selectors\n\nexport const itemTileLangSelector = createSelector(\n  langSelector,\n  langAriaSelector,\n  addToCartLabelSelector,\n  (lang, langAria, addToCart) => ({\n    accessibleLabel: addToCart,\n    addPriceAlert: lang.addPriceAlert,\n    customizable: lang.customizable,\n    decrementQuantity: lang.decrementQuantity,\n    incrementQuantity: lang.incrementQuantity,\n    item: lang.item,\n    or: lang.or,\n    quantity: lang.quantity,\n    removeItem: lang.removeItem,\n    removePriceAlert: lang.removePriceAlert,\n    reviews: lang.reviews,\n    togglePriceAlert: langAria.togglePriceAlert,\n  })\n)\n\nexport const saveForLaterLangSelector = createSelector(\n  langSelector,\n  langAriaSelector,\n  (lang, langAria) => ({\n    ariaAddedToList: langAria.addedToList,\n    ariaCloseButton: langAria.modalClose,\n    ariaCreateList: langAria.createList,\n    ariaEditList: langAria.editList,\n    ariaLoading: langAria.loading,\n    ariaPopoverDisclosure: `${\n      // TODO $ctrl.productsAreInOneList() && $ctrl.products.length !== 0 ? lang.addedTo : lang.addTo\n      lang.addTo\n    } ${lang.saveForLaterLists}`,\n    ariaPopoverLabel: langAria.saveItemForLater,\n    closeModalActionLabel: lang.close,\n    createListInputLabel: lang.createANewList,\n    createListInputPlaceholderText: lang.enterNewListName,\n    editListActionLabel: lang.edit,\n    popoverTitle: lang.saveForLater,\n    tooltipText: `${lang.addTo} ${lang.saveForLaterLists}`,\n  })\n)\n\nexport const itemTileImageSizeSelector = createSelector(isMobileSelector, isMobile =>\n  isMobile ? 'medium' : 'small'\n)\n\nexport const itemTileImageSelector = createSelector(\n  productSelector,\n  itemTileImageSizeSelector,\n  (product, imageSize) => getProductImageURL(product, imageSize)\n)\n\nexport const saveForLaterListsSelector = createSelector(\n  productSelector,\n  userListsSelector,\n  (product, userLists) =>\n    userLists.map(\n      userList =>\n        // eslint-disable-next-line @typescript-eslint/consistent-type-assertions\n        ({\n          ...userList,\n          selected: findItemInList(product, userList),\n        } as SaveForLaterList)\n    )\n)\n","import isMobileApp from '@app/utils/isMobileApp'\nimport urlParser from '@app/utils/urlParser'\nimport { config as configService } from '@instacart/enterprise-services'\nimport { shouldUseHashHistory } from '@app/react/history'\n\nexport const escapeImageUrl = (url: string, escapeParentheses?: boolean) => {\n  const encodedURL = encodeURI(url)\n\n  if (escapeParentheses) {\n    return encodedURL.replace(/(?=[()])/g, '\\\\')\n  }\n\n  return encodedURL.replace(\"'\", \"\\\\'\")\n}\n\nexport const getPrependHashIfNeeded = (path: string) => {\n  // Prepend '#' when HTML5 mode isn't enabled in Cordova.\n  if (path?.startsWith('/') && shouldUseHashHistory()) {\n    return `#${path}`\n  }\n  return path\n}\n\nexport const isLinkInternal = (url?: string) => {\n  if (!url) {\n    return true\n  }\n\n  const { host } = urlParser(url) ?? {}\n\n  if (!host || host === window.location.host) {\n    return true\n  }\n\n  if (isMobileApp()) {\n    const config = configService.selectors.getConfig()\n    if (config.env.webUrl && urlParser(config.env.webUrl).host === host) {\n      return true\n    }\n  }\n\n  return false\n}\n"],"sourceRoot":""}