{"version":3,"sources":["webpack://UnataWidgets/./packages/enterprise-ui-product-price/Price.js","webpack://UnataWidgets/./packages/enterprise-ui-product-price/ProductPrice.js","webpack://UnataWidgets/./packages/enterprise-ui-product-price/ProductPrices.tsx","webpack://UnataWidgets/./packages/enterprise-ui-product-price/index.js"],"names":["useStyles","createStyles","root","amount","perUnit","ebtText","color","fontWeight","unavailable","displayName","defaultLang","quantitySeparator","Price","forwardRef","props","ref","styles","quantity","unit","suffix","prefix","i18n","originalStyles","screenReaderLabel","showEbtLabel","isUnavailable","restProps","lang","css","component","variant","data-test","utils","formatCurrency","type","defaultProps","propTypes","PropTypes","string","className","oneOfType","object","style","number","isRequired","node","shape","bool","memo","inline","label","loyaltyPricingEnabled","hasLoyaltyCard","loyaltyIcon","unitPrice","product","showUom","salePriceOverride","tokens","text","secondary","fontSize","size","font","caption","lineHeight","body","strikethrough","textDecoration","primary","weight","bold","promo","brand","highlight","regular","loyaltyRequired","marginRight","marginLeft","spacing","xxxSmall","display","loyaltyTooltip","loyaltyBaseSuffix","screenReaderLabelBase","screenReaderLabelSale","ProductPrice","showConfigurablePrice","product_config","has_pricing","showLoyaltyPrice","loyalty_price","showSalePrice","sale_price","showSalePriceOverride","uom_price","price","uom","base_price","base_quantity","display_uom","sale_quantity","content","tabIndex","aria-hidden","loyalty_quantity","Number","ProductPrices","item","hasEligibleEbtCard","useLang","config","useConfig","loyaltyPricing","priceTooltip","or","useSalePricingForOffersInSideCartCostcoOnly","enterpriseCartService","selectors","hasItemOffer","getSalePrice","unit_price","store_product","shouldShowUOMSelector","resultFunc","isEbtProduct","enableLoyaltyPricing","loyalty","isLoyaltyMember","isProductAvailable"],"mappings":"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","file":"98.js","sourcesContent":["import React, { memo, forwardRef } from 'react'\nimport PropTypes from 'prop-types'\nimport { Text, createStyles, ScreenReaderText, utils } from '@instacart/cocktail'\n\nconst useStyles = createStyles(\n  {\n    root: {},\n    amount: {},\n    perUnit: {},\n    ebtText: {\n      color: '#024D36',\n      fontWeight: 'bold',\n    },\n    unavailable: {\n      color: '#6f6f6f',\n    },\n  },\n  { displayName: 'Price' }\n)\n\nconst defaultLang = {\n  quantitySeparator: 'for',\n}\n\nconst Price = forwardRef((props, ref) => {\n  const styles = useStyles(props)\n  const {\n    quantity,\n    amount,\n    unit,\n    perUnit,\n    suffix,\n    prefix,\n    i18n,\n    styles: originalStyles,\n    screenReaderLabel,\n    showEbtLabel,\n    isUnavailable = false,\n    ...restProps\n  } = props\n\n  const lang = { ...defaultLang, ...i18n }\n  const ebtText = 'EBT'\n\n  return (\n    <div ref={ref} css={[styles.root, isUnavailable && styles.unavailable]} {...restProps}>\n      {prefix}\n      {screenReaderLabel && <ScreenReaderText>{screenReaderLabel}</ScreenReaderText>}\n      {quantity > 1 ? (\n        <Text\n          css={[styles.amount, isUnavailable && styles.unavailable]}\n          component=\"span\"\n          variant=\"inherit\"\n          data-test=\"amount-multiple\"\n        >\n          {quantity}\n          {unit && unit !== 'ea' ? ` ${unit}` : null} {lang.quantitySeparator}{' '}\n          {utils.formatCurrency(amount)}\n        </Text>\n      ) : (\n        <span data-test=\"amount\">\n          <Text\n            css={[styles.amount, isUnavailable && styles.unavailable]}\n            component=\"span\"\n            variant=\"inherit\"\n          >\n            {utils.formatCurrency(amount)}\n          </Text>\n          <Text component=\"span\" variant=\"inherit\">\n            {unit ? ` / ${unit}` : null}\n          </Text>\n        </span>\n      )}\n      {perUnit ? (\n        <Text\n          data-test=\"per-unit-price\"\n          component=\"span\"\n          variant=\"inherit\"\n          css={[styles.perUnit, isUnavailable && styles.unavailable]}\n        >\n          {\n            // eslint-disable-next-line react/jsx-no-literals\n            ` (${utils.formatCurrency(perUnit.amount)}/${perUnit.type})`\n          }\n        </Text>\n      ) : null}\n      {suffix}\n      {showEbtLabel && (\n        <Text css={styles.ebtText} component=\"span\" variant=\"inherit\">\n          {\n            // eslint-disable-next-line react/jsx-no-literals\n            `, ${ebtText}`\n          }\n        </Text>\n      )}\n    </div>\n  )\n})\n\nPrice.defaultProps = {\n  quantity: 1,\n  i18n: {},\n  unit: 'ea',\n}\n\nPrice.propTypes = {\n  /** Flag for whether additional markup is required to convey strikethrough text to screenreaders  */\n  screenReaderLabel: PropTypes.string,\n  /** Custom emotion css object or class string for the containing element */\n  className: PropTypes.oneOfType([PropTypes.object, PropTypes.string]),\n  /** Custom style object for the containing element */\n  // eslint-disable-next-line react/forbid-prop-types\n  style: PropTypes.object,\n  /** Custom style object for the containing element */\n  // eslint-disable-next-line react/forbid-prop-types\n  styles: PropTypes.object,\n  /** Custom language strings */\n  // eslint-disable-next-line react/forbid-prop-types\n  i18n: PropTypes.object,\n  /** Quantity of units */\n  quantity: PropTypes.number,\n  /** Amount to display */\n  amount: PropTypes.number.isRequired,\n  /** Unit of measure for the amount */\n  unit: PropTypes.node,\n  /** Per unit pricing to display */\n  perUnit: PropTypes.shape({\n    amount: PropTypes.number,\n    type: PropTypes.node,\n  }),\n  /** Suffix the price with a string or node */\n  suffix: PropTypes.node,\n  /** Prefix the price with a string or node */\n  prefix: PropTypes.node,\n  /** Flag to show the EBT label on the mini cart. */\n  showEbtLabel: PropTypes.bool,\n  /** Whether the price should be faded if the item is unavaiable */\n  isUnavailable: PropTypes.bool,\n}\n\nexport default memo(Price)\n","import React, { Fragment, forwardRef } from 'react'\nimport PropTypes from 'prop-types'\nimport { Tooltip, Text, createStyles } from '@instacart/cocktail'\nimport Price from './Price'\n\nexport const propTypes = {\n  /** Custom language strings */\n  // eslint-disable-next-line react/forbid-prop-types\n  i18n: PropTypes.object,\n  /** Render base and promo prices inline */\n  inline: PropTypes.bool,\n  /** Display a label above base price */\n  label: PropTypes.string,\n  /** Flag to decide if we show loyalty pricing */\n  loyaltyPricingEnabled: PropTypes.bool,\n  /** Flag that denotes if the user has a loyalty card */\n  hasLoyaltyCard: PropTypes.bool,\n  /** Class name for the loyalty icon */\n  loyaltyIcon: PropTypes.string,\n  /** Price for configurable products */\n  unitPrice: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  /** Custom style object for the containing element */\n  // eslint-disable-next-line react/forbid-prop-types\n  styles: PropTypes.object,\n  /** A unata product object */\n  // eslint-disable-next-line react/forbid-prop-types\n  product: PropTypes.object,\n  /** Flag to denote if we show the unit-of-measurement */\n  showUom: PropTypes.bool,\n  /** Flag to show the EBT label on the mini cart. */\n  showEbtLabel: PropTypes.bool,\n  /** sale pricing amount to use instead of offers (for costco only) */\n  salePriceOverride: PropTypes.number,\n  /** Whether the product is unavailable or not */\n  isUnavailable: PropTypes.bool,\n}\n\nconst useStyles = createStyles(\n  tokens => ({\n    root: {\n      color: tokens.color.text.secondary,\n      fontSize: tokens.size.font.caption,\n      lineHeight: tokens.size.lineHeight.body,\n    },\n    strikethrough: {\n      textDecoration: 'line-through',\n    },\n    amount: {\n      color: tokens.color.text.primary,\n      fontSize: tokens.size.font.body,\n      fontWeight: tokens.font.weight.bold,\n    },\n    promo: {\n      color: tokens.color.brand.highlight.regular,\n    },\n    label: {},\n    perUnit: {},\n    loyaltyRequired: {\n      color: tokens.color.brand.highlight.regular,\n    },\n    loyaltyIcon: {\n      color: tokens.color.brand.highlight.regular,\n      marginRight: '0.25em',\n    },\n    inline: {\n      marginLeft: -tokens.size.spacing.xxxSmall,\n      marginRight: -tokens.size.spacing.xxxSmall,\n      '> *': {\n        marginLeft: tokens.size.spacing.xxxSmall,\n        marginRight: tokens.size.spacing.xxxSmall,\n        display: 'inline-block',\n      },\n    },\n  }),\n  { displayName: 'ProductPrice' }\n)\n\nconst defaultLang = {\n  label: 'Price',\n  loyaltyTooltip: 'Exclusive deals for loyalty members',\n  loyaltyBaseSuffix: 'or',\n  screenReaderLabelBase: 'Original price:',\n  screenReaderLabelSale: 'Current price:',\n}\n\nconst ProductPrice = forwardRef((props, ref) => {\n  const styles = useStyles(props)\n  const {\n    i18n,\n    hasLoyaltyCard,\n    loyaltyIcon,\n    inline,\n    label,\n    showEbtLabel,\n    showUom,\n    unitPrice,\n    styles: originalStyles,\n    loyaltyPricingEnabled,\n    product,\n    salePriceOverride,\n    isUnavailable = false,\n    ...restProps\n  } = props\n\n  const lang = { ...defaultLang, ...i18n }\n\n  const showConfigurablePrice =\n    product.product_config && product.product_config.has_pricing && !!unitPrice\n  const showLoyaltyPrice = loyaltyPricingEnabled && product.loyalty_price\n  const showSalePrice = product.sale_price && !showLoyaltyPrice\n  const showSalePriceOverride = salePriceOverride && !showLoyaltyPrice\n  const showUomPrice = showUom && product.uom_price.price && !unitPrice\n\n  let perUnit\n  if (showUomPrice) {\n    perUnit = {\n      amount: product.uom_price.price,\n      type: product.uom_price.uom,\n    }\n  }\n\n  return (\n    <div ref={ref} css={[styles.root, inline && styles.inline]} {...restProps}>\n      {showSalePrice || showSalePriceOverride ? (\n        <Fragment>\n          <Price\n            styles={{ root: styles.strikethrough }}\n            amount={product.base_price}\n            quantity={product.base_quantity}\n            unit={product.display_uom}\n            data-test=\"sale-base-price\"\n            screenReaderLabel={lang.screenReaderLabelBase}\n          />\n          <Price\n            styles={{\n              amount: [styles.amount, styles.promo],\n              perUnit: styles.perUnit,\n            }}\n            amount={salePriceOverride || product.sale_price}\n            quantity={product.sale_quantity}\n            unit={product.display_uom}\n            perUnit={perUnit}\n            data-test=\"sale-price\"\n            screenReaderLabel={lang.screenReaderLabelSale}\n            showEbtLabel={showEbtLabel}\n            isUnavailable={isUnavailable}\n          />\n        </Fragment>\n      ) : showLoyaltyPrice ? (\n        <Fragment>\n          <Price\n            suffix={!hasLoyaltyCard && ` ${lang.loyaltyBaseSuffix}`}\n            styles={{\n              root: hasLoyaltyCard ? styles.strikethrough : {},\n            }}\n            amount={product.base_price}\n            quantity={product.base_quantity}\n            unit={product.display_uom}\n            data-test=\"loyalty-base-price\"\n            screenReaderLabel={lang.screenReaderLabelBase}\n          />\n          <Tooltip content={lang.loyaltyTooltip}>\n            <Price\n              tabIndex=\"0\"\n              prefix={\n                loyaltyIcon && (\n                  <i className={loyaltyIcon} css={styles.loyaltyIcon} aria-hidden=\"true\" />\n                )\n              }\n              styles={{\n                amount: [styles.amount, styles.promo, !hasLoyaltyCard && styles.loyaltyRequired],\n                perUnit: styles.perUnit,\n              }}\n              amount={product.loyalty_price}\n              quantity={product.loyalty_quantity}\n              unit={product.display_uom}\n              perUnit={perUnit}\n              data-test=\"loyalty-price\"\n              screenReaderLabel={lang.screenReaderLabelSale}\n              showEbtLabel={showEbtLabel}\n              isUnavailable={isUnavailable}\n            />\n          </Tooltip>\n        </Fragment>\n      ) : (\n        <Fragment>\n          {label && (\n            <Text variant=\"inherit\" data-test=\"base-price-label\" css={styles.label}>\n              {label}\n            </Text>\n          )}\n          <Price\n            amount={showConfigurablePrice ? Number(unitPrice) : product.base_price}\n            quantity={product.base_quantity}\n            unit={product.display_uom}\n            perUnit={perUnit}\n            styles={{\n              amount: styles.amount,\n              perUnit: styles.perUnit,\n            }}\n            data-test=\"base-price\"\n            showEbtLabel={showEbtLabel}\n            isUnavailable={isUnavailable}\n          />\n        </Fragment>\n      )}\n    </div>\n  )\n})\n\nProductPrice.defaultProps = {\n  i18n: {},\n  inline: false,\n  loyaltyIcon: 'icon-loyalty-badge',\n}\n\nProductPrice.propTypes = propTypes\n\nexport default ProductPrice\n","import React from 'react'\nimport { ShoppingListItem } from '@app/types/shoppingList'\nimport { useLang, useConfig } from '@app/services/config/hooks'\nimport { shouldShowUOMSelector } from '@app/services/product/selectors'\nimport { isEbtProduct, isProductAvailable } from '@instacart/enterprise-services/product/utils'\nimport { loyalty, cart as enterpriseCartService } from '@instacart/enterprise-services'\nimport { getSalePrice } from '@instacart/enterprise-services/shopping-list/_common/utils'\n\nimport ProductPrice from './ProductPrice'\n\ntype Props = {\n  item: ShoppingListItem\n  hasEligibleEbtCard?: boolean\n}\n\nconst ProductPrices: React.FC<Props> = props => {\n  const { item, hasEligibleEbtCard = false, ...restProps } = props\n\n  const lang = useLang()\n  const config = useConfig()\n  const i18n = {\n    loyaltyTooltip: lang.loyaltyPricing.priceTooltip,\n    loyaltyBaseSuffix: lang.or,\n  }\n\n  const shouldShowSalePrice =\n    config.useSalePricingForOffersInSideCartCostcoOnly &&\n    item.quantity !== 0 &&\n    enterpriseCartService.selectors.hasItemOffer(item)\n\n  const salePriceOverride: number = shouldShowSalePrice ? getSalePrice(item) : 0\n\n  return (\n    <ProductPrice\n      i18n={i18n}\n      unitPrice={item.unit_price}\n      product={item?.store_product}\n      showUom={shouldShowUOMSelector.resultFunc(item.store_product, config)}\n      showEbtLabel={hasEligibleEbtCard && isEbtProduct(item)}\n      loyaltyPricingEnabled={!!(item.store_product.loyalty_price && config.enableLoyaltyPricing)}\n      hasLoyaltyCard={loyalty.selectors.isLoyaltyMember()}\n      salePriceOverride={salePriceOverride}\n      isUnavailable={!isProductAvailable(item.store_product)}\n      {...restProps}\n    />\n  )\n}\n\nexport default ProductPrices\n","import ProductPrice, { propTypes } from './ProductPrice'\n\nexport { default as ProductPrice } from './ProductPrice'\n\nexport { default as ProductPrices } from './ProductPrices'\n\nexport { default as Price } from './Price'\n\nexport { propTypes }\n\nexport default ProductPrice\n"],"sourceRoot":""}