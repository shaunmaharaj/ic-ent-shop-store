(window.webpackJsonpUnataWidgets=window.webpackJsonpUnataWidgets||[]).push([[73],{"6f3f918e95daa9bdfd12":function(e,t,c){"use strict";c.r(t);var n=c("8af190b70a6bc55c6f1b"),a=c("c72272a7287d0d0d7bf8"),r=c("14fc433a03f90ce88b35"),i=c("0a81c721557e72a0975d"),s=c("39f935d9e36e6671c2a4"),b=c("f9d28ff63f3a34fac81c"),d=c("7d8545d2807e9743ca01"),o=c.n(d),l=c("3633c1951184d927dbe3"),p=c.n(l),g=c("872187f76c7f41717359"),O=c("afabb428d2609176d355"),u=c("9a0b4e03ea3c43527074");const j=Object(a.hb)(e=>({badgeContainer:{alignItems:"center",display:"flex",justifyContent:"center"},button:{margin:`${e.size.spacing.large}px ${e.size.spacing.none}px`}}));var h=({onContinue:e,planEndDate:t})=>{const c=j(),n=Object(g.c)(),r=Object(g.b)();return Object(u.c)(u.a,{children:[Object(u.b)(a.ab,{component:"h2",variant:"banner",bold:!0,align:"center",children:n.icExpress.redeemGiftCard.giftCardRedeemedSuccessfully}),Object(u.b)("div",{css:c.badgeContainer,children:Object(u.b)("img",{src:p.a,alt:"success-stars-badge"})}),Object(u.b)(a.ab,{component:"h3",variant:"h3",align:"center",children:Object(O.a)(n.icExpress.welcomeToIcExpressText,{programName:r.icExpress.name})}),t&&Object(u.b)(a.ab,{component:"p",variant:"body",align:"center",children:Object(u.b)("span",{"data-test":"plan-ends-text",dangerouslySetInnerHTML:{__html:Object(O.a)(n.icExpress.redeemGiftCard.yourPlanEnds,{endDate:t})}})}),Object(u.b)(a.h,{css:c.button,onClick:e,fullWidth:!0,children:n.icExpress.startShoppingCTA})]})},f=c("a68c2383f3a05c89329c");const m=Object(a.hb)(e=>({button:{margin:`${e.size.spacing.large}px ${e.size.spacing.none}px`},heading:{fontWeight:e.font.weight.bold},termsLink:{color:e.color.brand.primary.regular}}));var C=({onSuccess:e})=>{const[t,c]=Object(n.useState)(""),[r,i]=Object(n.useState)(!1),[s,b]=Object(n.useState)(!1),d=Object(g.c)(),o=Object(g.b)(),l=Object(n.useCallback)(e=>{c(e.target.value)},[c]),p=m(),O=Object(n.useCallback)(async()=>{i(!0),b(!1);try{const c=await Object(f.d)({gift_card_token:t});i(!1),e(c)}catch(e){i(!1),b(!0)}},[t,i,e,b]);return Object(u.c)(u.a,{children:[Object(u.b)(a.ab,{css:p.heading,component:"h1",variant:"banner",bold:!0,align:"center",children:d.icExpress.redeemGiftCard.title}),Object(u.b)(a.t,{id:"express-gift-card-redeem",error:s,fullWidth:!0,placeholder:d.icExpress.redeemGiftCard.enterGiftCardPlaceHolder,value:t,onChange:l}),s&&Object(u.b)(a.n,{error:s,children:d.icExpress.redeemGiftCard.redeemFailedMessage}),Object(u.b)(a.h,{css:p.button,fullWidth:!0,disabled:r||!t,onClick:O,loading:r,color:r?"secondary":"primary",children:d.icExpress.redeemGiftCard.redeemButtonCTA}),Object(u.b)(a.ab,{align:"center",bold:!0,color:"brandPrimary",children:Object(u.b)("a",{href:o.icExpress.promotionTermsUrl,css:p.termsLink,children:o.icExpress.termsAndConditions.label})})]})};const x=Object(a.hb)(e=>({button:{margin:`${e.size.spacing.large}px ${e.size.spacing.none}px`},heading:{fontWeight:e.font.weight.bold},mobileHeader:{paddingBottom:`${e.size.spacing.xxLarge}px`,paddingTop:`${e.size.spacing.xxLarge}px`},mobileRoot:{height:"100%"},modalContent:{padding:`${e.size.spacing.large}px ${e.size.spacing.xLarge}px`}}));var S;!function(e){e[e.FORM=0]="FORM",e[e.SUCCESS=1]="SUCCESS"}(S||(S={}));t.default=({onCancel:e,onSuccess:t})=>{const c=Object(r.a)(),d=x(),[l,p]=Object(n.useState)(S.FORM),g=Object(i.c)(),O=Object(b.a)(),j=Object(n.useCallback)(e=>{g(s.a.setSubscription(e)),p(S.SUCCESS)},[p,g]),f=Object(n.useCallback)(()=>Object(u.b)(C,{onSuccess:j}),[j]),m=Object(n.useCallback)(()=>{var e;const c=o()(null==O||null===(e=O.subscription)||void 0===e?void 0:e.end_date).format("MMMM D, YYYY");return Object(u.b)(h,{onContinue:t,planEndDate:c})},[t,O]),E=Object(n.useMemo)(()=>({[S.FORM]:f,[S.SUCCESS]:m}[l]()),[l,f,m]);return Object(u.c)(a.F,{roundedCorners:!c,css:c&&d.mobileRoot,children:[!c&&Object(u.b)(a.G,{children:Object(u.b)(a.L,{onClick:e})}),c&&Object(u.b)(a.I,{css:d.mobileHeader,children:Object(u.b)(a.J,{position:"left",children:Object(u.b)(a.L,{onClick:e})})}),Object(u.b)(a.H,{layout:"medium",css:d.modalContent,children:E})]})}}}]);