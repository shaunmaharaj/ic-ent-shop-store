(window.webpackJsonpUnataWidgets=window.webpackJsonpUnataWidgets||[]).push([[7],{"1932894688abbfef2616":function(e,t,r){"use strict";var n=r("af62fe3526ca043868d8"),i=r("644b5167db1b400480ed"),o=r("29abe764b3d12c721dea"),a=r("9a0b4e03ea3c43527074");const c=["children"];function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}const d=Object(i.b)({root:{alignItems:"center",display:"flex",whiteSpace:"nowrap"},slot:{marginLeft:o.I.s8}});t.a=e=>{let{children:t}=e,r=u(e,c);const i=d(),o=l(l({},i.root),{},{fontSize:r.iconSize,lineHeight:`${r.iconSize}px`});return Object(a.c)("div",{css:o,children:[Object(a.b)(n.a,l({},r)),Object(a.b)("div",{css:i.slot,children:t})]})}},"5f936bb75aee570a7b17":function(e,t,r){"use strict";r.r(t),r.d(t,"App",(function(){return Tt})),r.d(t,"RatingWithCount",(function(){return ze}));var n=r("8af190b70a6bc55c6f1b"),i=r("c72272a7287d0d0d7bf8"),o=r("872187f76c7f41717359"),a=r("8a2d1b95e05b6a321e74"),c=r.n(a),s=r("013d85ea6438da1a70f9");const l=c.a.shape({id:c.a.string,name:c.a.string,location:c.a.string,isTrial:c.a.bool.isRequired}),b=c.a.shape({logo_image_url:c.a.string,content_link:c.a.string,name:c.a.string}),u=c.a.shape({id:c.a.string.isRequired,message:c.a.string,rating:c.a.number.isRequired,item_id:c.a.string.isRequired,submission_time:c.a.string.isRequired,title:c.a.string,username:c.a.string.isRequired,location:c.a.string,total_reviews:c.a.number.isRequired,syndication_source:b}),d={entityId:c.a.string.isRequired,entityExtId:c.a.string.isRequired,onTermsClick:c.a.func,onShowAllClick:c.a.func,onLoginRequired:c.a.func.isRequired,user:l.isRequired,perPage:c.a.number,reviewType:c.a.oneOf(["products","recipes"]),showPaging:c.a.bool};var p=r("9a0b4e03ea3c43527074");const g=["review"];function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}const j=Object(i.hb)(e=>({root:{marginRight:e.size.spacing.xxSmall,marginBottom:e.size.spacing.xxxSmall,[i.pb.mediaQuery.minWidth(e.breakpoint.medium)]:{width:150,minWidth:150}},name:{fontSize:e.size.font.body,fontWeight:e.font.weight.bold,marginBottom:e.size.spacing.xxxSmall},caption:{fontSize:e.size.font.caption}})),h=Object(n.memo)(e=>{let{review:t}=e,r=y(e,g);const n=j(),{t:i}=Object(s.b)();return Object(p.c)("div",O(O({css:n.root},r),{},{children:[Object(p.b)("div",{css:n.name,children:t.username}),t.location&&Object(p.b)("div",{css:n.caption,children:t.location}),Object(p.b)("div",{css:n.caption,children:i("reviewsCount",{count:t.total_reviews})})]}))});h.defaultProps={},h.propTypes={review:u.isRequired};var v=h,w=r("afabb428d2609176d355");const x=["contentLink","children"];function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){R(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function R(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}const z=Object(n.memo)(e=>{let{contentLink:t,children:r}=e,n=k(e,x);return t?Object(p.b)("a",S(S({href:t,rel:"nofollow"},n),{},{children:r})):Object(p.b)("span",S(S({},n),{},{children:r}))});z.propTypes={contentLink:c.a.string,children:c.a.node.isRequired};var D=z;const C=["syndicationSource"];function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){q(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function q(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}const I=Object(i.hb)(e=>({root:{display:"inline-flex",flexDirection:"row",alignItems:"center",paddingTop:`${e.size.spacing.xxSmall}px`,paddingBottom:`${e.size.spacing.xxSmall}px`,paddingLeft:`${e.size.spacing.xxSmall/2}px`,paddingRight:`${e.size.spacing.xxSmall/2}px`,borderRadius:`${e.border.radius.regular}px`,backgroundColor:e.color.neutral.grey2,color:e.color.text.primary},logo:{maxWidth:"60px",paddingLeft:`${e.size.spacing.xxSmall/2}px`,paddingRight:`${e.size.spacing.xxSmall/2}px`,alignSelf:"baseline"},source:{fontSize:e.size.font.caption,overflowWrap:"anywhere",paddingLeft:`${e.size.spacing.xxSmall/2}px`,paddingRight:`${e.size.spacing.xxSmall/2}px`}})),A=Object(n.memo)(e=>{let{syndicationSource:t}=e,r=T(e,C);const n=I(),i=Object(o.c)(),a=t.name?Object(w.a)(i.reviewSyndicationAttribution.attributionTextKnownSource,{sourceName:t.name}):Object(w.a)(i.reviewSyndicationAttribution.attributionTextUnknownSource,{retailer:i.clientName}),c=t.name?Object(w.a)(i.reviewSyndicationAttribution.logoAltKnownSource,{sourceName:t.name}):i.reviewSyndicationAttribution.logoAltUnknownSource;return Object(p.c)(D,E(E({css:n.root,contentLink:t.content_link},r),{},{children:[t.logo_image_url&&Object(p.b)("img",{"data-test":"syndicated-review-logo",css:n.logo,src:t.logo_image_url,alt:c}),Object(p.b)("div",{css:n.source,"data-test":"syndicated-review-source",children:a})]}))});A.propTypes={syndicationSource:b.isRequired};var L=A;const B=["review"];function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(Object(r),!0).forEach((function(t){M(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function M(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}const Q=Object(i.hb)(e=>({root:{marginRight:e.size.spacing.xxSmall,marginBottom:e.size.spacing.xxxSmall},title:{fontSize:e.size.font.large,fontWeight:e.font.weight.bold,marginBottom:e.size.spacing.xxSmall},body:{fontSize:e.size.font.body},syndicationAttributionContainer:{marginTop:`${e.size.spacing.xxSmall}px`}})),F=Object(n.memo)(e=>{let{review:t}=e,r=N(e,B);const n=Q();return Object(p.c)("div",$($({css:n.root},r),{},{children:[Object(p.b)("div",{css:n.title,children:t.title}),Object(p.b)("div",{css:n.body,children:t.message}),!!t.syndication_source&&Object(p.b)("div",{css:n.syndicationAttributionContainer,children:Object(p.b)(L,{syndicationSource:t.syndication_source})})]}))});F.propTypes={review:u.isRequired};var H=F,U=r("af62fe3526ca043868d8");const G=["rating","date"];function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(Object(r),!0).forEach((function(t){J(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function J(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}const X=Object(i.hb)(e=>({rating:{fontSize:e.size.font.caption,display:"flex",alignItems:"center",marginBottom:e.size.spacing.xxSmall},timeAgo:{marginLeft:e.size.spacing.xSmall}})),Z=Object(n.memo)(e=>{let{rating:t,date:r}=e,n=K(e,G);const o=X();return Object(p.c)("div",Y(Y({css:o.rating},n),{},{children:[Object(p.b)(U.a,{rating:t,iconSize:14}),Object(p.b)(i.cb,{css:o.timeAgo,date:r})]}))});Z.defaultProps={},Z.propTypes={rating:c.a.number.isRequired,date:c.a.string.isRequired};var ee=Z;const te=["reviews"];function re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?re(Object(r),!0).forEach((function(t){ie(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ie(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oe(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}const ae=Object(i.hb)(e=>({list:{width:"100%"},item:{display:"flex",flexDirection:"column",[i.pb.mediaQuery.minWidth(e.breakpoint.medium)]:{flexDirection:"row"},borderBottom:i.pb.toPx`${e.border.width.regular} solid ${e.color.border.regular}`,padding:i.pb.toPx`${e.size.layout.xxSmall} 0`},empty:{color:e.color.text.primary,fontSize:e.size.font.body}})),ce=Object(n.memo)(e=>{let{reviews:t}=e,r=oe(e,te);const n=ae(),{t:i}=Object(s.b)();return Object(p.b)("div",ne(ne({css:n.list},r),{},{children:t.length?t.map(e=>Object(p.c)("div",{css:n.item,"data-test":`review-${e.id}`,children:[Object(p.b)(v,{review:e}),Object(p.c)("div",{children:[Object(p.b)(ee,{rating:e.rating,date:e.submission_time}),Object(p.b)(H,{review:e})]})]},e.id)):Object(p.b)("div",{css:n.empty,children:i("noResults")})}))});ce.defaultProps={reviews:[]},ce.propTypes={reviews:c.a.arrayOf(u)};var se=ce;const le=Object(i.hb)(e=>({row:{marginBottom:e.size.layout.xxSmall,alignItems:"center",[i.pb.mediaQuery.minWidth(e.breakpoint.medium)]:{display:"flex",marginLeft:-e.size.spacing.xxSmall,marginRight:-e.size.spacing.xxSmall}},col:{[i.pb.mediaQuery.minWidth(e.breakpoint.medium)]:{flex:"1 1 auto",marginLeft:e.size.spacing.xxSmall,marginRight:e.size.spacing.xxSmall}},count:{marginBottom:e.size.spacing.xxSmall,[i.pb.mediaQuery.minWidth(e.breakpoint.medium)]:{alignItems:"center",marginBottom:0}},text:{fontFamily:e.font.family.primary,color:e.color.text.primary,fontSize:e.size.font.body,lineHeight:e.size.lineHeight.body},button:{padding:0,margin:0,height:"auto",fontWeight:e.font.weight.bold,marginLeft:e.size.spacing.xxSmall},sort:{[i.pb.mediaQuery.minWidth(e.breakpoint.medium)]:{display:"flex",justifyContent:"flex-end"}},select:{width:"100%",[i.pb.mediaQuery.minWidth(e.breakpoint.medium)]:{marginLeft:e.size.spacing.xxSmall,width:"auto"}},loadMore:{padding:e.size.spacing.xSmall,textAlign:"center"}}));function be({sort:e,order:t}){return[e,t].join("_")}const ue=({reviews:e,totalCount:t,onShowAllClick:r,onSortChange:a,sortBy:c,perPage:l,onMoreClick:b,loading:u})=>{const d=le(),{t:g}=Object(s.b)(),f=Object(o.d)(),O=[{value:{sort:"SubmissionTime",order:"desc"},label:g("mostRecent")},{value:{sort:"Rating",order:"desc"},label:g("highestRated")},{value:{sort:"Rating",order:"asc"},label:g("lowestRated")}].map(({value:e,label:t})=>({value:be(e),label:t})),m=b&&!u&&e.length<t&&e.length>0,y=be(c),j=O.find(({value:e})=>e===y);return Object(p.c)(n.Fragment,{children:[e.length>0&&Object(p.c)("div",{css:d.row,children:[Object(p.c)("div",{css:[d.col,d.count],children:[Object(p.b)("span",{css:d.text,children:g("pagedReviewsCount",{start:1,end:e.length,total:t})}),r&&Object(p.b)(i.h,{onClick:r,variant:"link",css:d.button,"data-test":"show-all-button",children:g("showAll")})]}),Object(p.b)("div",{css:[d.col,d.sort],children:Object(p.b)(i.U,{value:j,options:O,"data-test":"select-sort-options",onChange:(e,...t)=>{const{value:r,label:n}=e,i=function(e){const[t,r]=e.split("_");return{sort:t,order:r}}(r);return a({value:i,label:n},...t)},inputSize:"small",css:d.select,isSearchable:!1,"aria-label":f.reviewSortingSelect})})]}),Object(p.b)(se,{reviews:e}),m&&Object(p.b)("div",{css:d.loadMore,children:Object(p.b)(i.h,{variant:"outline",onClick:b,"data-test":"show-more-button",children:g("moreReviews",{count:l})})})]})};ue.defaultProps={sortBy:{sort:"SubmissionTime",order:"desc"},loading:!1},ue.propTypes={reviews:c.a.arrayOf(u).isRequired,onShowAllClick:c.a.func,totalCount:c.a.number.isRequired,onSortChange:c.a.func,sortBy:c.a.shape({sort:c.a.oneOf(["SubmissionTime","Rating"]),order:c.a.oneOf(["asc","desc"])}),perPage:c.a.number.isRequired,onMoreClick:c.a.func,loading:c.a.bool};var de=Object(n.memo)(ue);function pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ge(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(r),!0).forEach((function(t){fe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function fe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Oe={fontSize:10},me={width:"100%"},ye=e=>({width:"100%",backgroundColor:e,textAlign:"center"}),je={display:"flex",alignItems:"center",svg:{display:"inline-block",height:"1em",width:"1em",color:"inherit",flexShrink:0}},he={viewBox:"0 0 24 24",preserveAspectRatio:"xMidYMid meet",focusable:"false",pointerEvents:"none"},ve=(e,t)=>t>0?`${e/t*100}%`:"0%",we=e=>Array.from({length:e},(e,t)=>t+1).reverse(),xe=Object(n.memo)(({ratingCount:e,ratingDistribution:t=[],filledColour:r,unfilledColour:n,style:a,className:c})=>{const s=Object(o.d)(),l=Object(i.ob)(),b=n||l.color.neutral.grey2,u=r||l.color.brand.primary.regular,d={paddingLeft:l.size.spacing.xxxSmall,textAlign:"left",width:20},g={display:"flex",flex:"0 1 auto",flexDirection:"row",flexWrap:"nowrap",alignItems:"baseline",marginBottom:l.size.spacing.xxSmall},f=ge(ge({},{height:6,borderRadius:l.border.radius.small}),{},{backgroundColor:u}),O={flex:"1 0 auto",marginLeft:l.size.spacing.xxxSmall,marginRight:l.size.spacing.xxxSmall};return Object(p.b)("div",{css:Oe,style:a,className:c,children:we(e).map(e=>{const r=((e,t)=>{var r;if(!((r=e)&&0===r.length)){const r=e.find(e=>e.rating===t);return r&&r.count?r.count:0}return 0})(t,e);return Object(p.c)("div",{css:g,"aria-label":Object(w.a)(s.reviewsHaveRating,{numReviews:r,numStars:e}),children:[Object(p.b)("div",{children:Object(p.c)("div",{"aria-hidden":!0,css:je,children:[Object(p.c)("span",{children:[e," "]}),Object(p.b)("svg",ge(ge({},he),{},{css:O,children:Object(p.b)("g",{id:"star",children:Object(p.b)("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})})}))]})}),Object(p.b)("div",{css:me,children:Object(p.b)("div",{css:ye(b),children:Object(p.b)("div",{css:(n=r,o=t,i=o.reduce((e,t)=>e+t.count,0),ge(ge({},f),{},{width:`${ve(n,i)}`}))})})}),Object(p.b)("div",{"aria-hidden":!0,css:d,children:Object(p.b)("span",{children:r})})]},e);var n,i,o})})});xe.defaultProps={ratingCount:5},xe.propTypes={ratingCount:c.a.number,ratingDistribution:c.a.arrayOf(c.a.shape({count:c.a.number.isRequired,rating:c.a.number.isRequired}).isRequired).isRequired,filledColour:c.a.string,unfilledColour:c.a.string,style:c.a.object,className:c.a.oneOfType([c.a.object,c.a.string])};var Pe=xe,Se=r("644b5167db1b400480ed"),Re=r("1932894688abbfef2616");const ke=Object(Se.b)(e=>({clickable:{"&:hover":{cursor:"pointer",textDecoration:"underline"}},label:{fontFamily:e.typography.bodyMedium1.fontFamily,fontSize:e.typography.bodyMedium1.fontSize,fontWeight:e.typography.bodyMedium1.fontWeight,lineHeight:e.typography.bodyMedium1.lineHeight},root:{color:e.colors.brandPrimaryRegular}}));var ze=({rating:e=0,ratingCount:t=0,showAverage:r=!0,labelStyles:n,iconSize:i,clickable:a=!1})=>{const c=ke(),s=Object(o.d)(),l=+e.toFixed(2),b=((e,t,r)=>{let n="";return r?t>0&&e>0?n=`${e} (${t})`:e>0&&(n=`${e}`):t>0&&(n=`(${t})`),n})(l,t,r),u=`${Object(w.a)(s.rating,{maxRating:5,rating:l})}. ${Object(w.a)(s.totalReviews,{numReviews:t})}`;return Object(p.b)("div",{css:[c.root,a&&c.clickable],children:Object(p.b)(Re.a,{rating:e,iconSize:i,children:b&&Object(p.c)(p.a,{children:[Object(p.b)("span",{className:"screen-reader-text",children:u}),Object(p.b)("span",{css:[c.label,n],"data-test":"product-rating-label","aria-hidden":!0,children:b})]})})})};const De=Object(i.hb)(e=>({root:{display:"flex",alignItems:"center",marginBottom:e.size.spacing.xxSmall},header:{fontFamily:e.font.family.secondary,margin:0,marginRight:e.size.spacing.xxSmall,fontSize:e.size.font.h3,lineHeight:e.size.lineHeight.h3,fontWeight:600,flex:"1 1 auto",[i.pb.mediaQuery.minWidth(e.breakpoint.medium)]:{flex:"0 1 auto"}}})),Ce=Object(n.memo)(({rating:e})=>{const t=De(),{t:r}=Object(s.b)();return Object(p.c)("div",{css:t.root,children:[Object(p.b)("h2",{css:t.header,children:r("heading")}),Object(p.b)(ze,{rating:e.average_rating,ratingCount:e.user_count,iconSize:20})]})});Ce.defaultProps={rating:{average_rating:0,user_count:0}},Ce.propTypes={rating:c.a.shape({average_rating:c.a.number.isRequired,user_count:c.a.number.isRequired})};var _e=Ce,Ee=r("2befd5a067fda4f72081");function qe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(r),!0).forEach((function(t){Ie(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ie(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Ae={description:"Adding a rating or review is a great way for us to hear from you. Please also leave us a comment under your rating",star1:"Wouldn't try it again",star2:"Not my favourite",star3:"It was ok",star4:"Pretty good",star5:"Would buy this again"},Le=Object(n.memo)(({i18n:e})=>{const t=Object(i.ob)(),r=Te(Te({},Ae),e),n={description:{marginTop:0},row:{display:"flex",marginBotton:t.size.spacing.xxSmall,alignItems:"center"},star:{flex:"0 0 auto",padding:t.size.spacing.xxxSmall},note:{flex:"1 1 auto",padding:t.size.spacing.xxxSmall}};return Object(p.c)("div",{children:[Object(p.b)("p",{css:n.description,children:r.description}),[...Array(5).keys()].map(e=>Object(p.c)("div",{css:n.row,children:[Object(p.b)("div",{css:n.star,children:Object(p.b)(i.R,{rating:e+1,iconSize:15})}),Object(p.b)("div",{css:n.note,children:r[`star${e+1}`]})]},e))]})});Le.defaultProps={i18n:{}},Le.propTypes={i18n:c.a.object};var Be=Le;const We=["label","rating","onChange","tooltipIcon","onAddClick"];function $e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Me(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(r),!0).forEach((function(t){Ne(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$e(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ne(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qe(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}const Fe=Object(i.hb)(e=>({tooltipIcon:{display:"inline-block",verticalAlign:"middle",marginLeft:e.size.spacing.xxxSmall,svg:{fill:e.color.brand.primary.regular}},controls:{display:"flex",alignItems:"center"},input:{marginRight:"auto",[i.pb.mediaQuery.minWidth(e.breakpoint.medium)]:{marginRight:e.size.spacing.small}},button:{[i.pb.mediaQuery.minWidth(e.breakpoint.medium)]:{marginRight:"auto"}}}),{displayName:"RatingFormControl"}),He=Object(n.memo)(e=>{let{label:t,rating:r,onChange:n,tooltipIcon:o,onAddClick:a}=e,c=Qe(e,We);const l=Fe(),{t:b}=Object(s.b)();return Object(p.c)(i.m,Me(Me({required:!0,fullWidth:!0},c),{},{children:[Object(p.c)(i.o,{htmlFor:"rating",children:[t,Object(p.b)(i.fb,{content:Object(p.b)(Be,{}),position:"bottom",children:Object(p.b)("span",{css:l.tooltipIcon,children:o})})]}),Object(p.c)("div",{css:l.controls,children:[Object(p.b)(i.S,{rating:r,id:"rating",onClick:n,iconSize:36,css:l.input}),a&&Object(p.b)(i.h,{onClick:a,size:"small","data-test":"add",css:l.button,children:b("addReview")})]})]}))});He.defaultProps={tooltipIcon:Object(p.b)("svg",{width:"16px",height:"16px",viewBox:"0 0 24 24",children:Object(p.b)("g",{id:"info",children:Object(p.b)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"})})})},He.propTypes={label:c.a.string.isRequired,rating:c.a.number,onChange:c.a.func.isRequired,tooltipIcon:c.a.node,onAddClick:c.a.func};var Ue=He;let Ge=!1;const Ve=async()=>new Promise((e,t)=>{let r=0;const n=setInterval(()=>{const i=(()=>{if(window.IGLOO&&"function"==typeof window.IGLOO.getBlackbox){const e=window.IGLOO.getBlackbox();if(e.finished)return e.blackbox}})();i&&(clearInterval(n),e(i)),r+=1,r>10&&(clearInterval(n),t(new Error("Device fingerprint could not be found.")))},500)}),Ye=Object(n.memo)(({label:e,required:t,style:r})=>t?Object(p.c)(p.a,{children:[e," ",Object(p.b)("span",{css:r,children:"*"})]}):e);Ye.propTypes={label:c.a.string,required:c.a.bool,style:c.a.oneOfType([c.a.object,c.a.array])};var Je=Ye;const Ke=Object(i.hb)(e=>({root:{},terms:{padding:0,height:"auto",marginTop:e.size.spacing.xSmall,fontSize:e.size.font.caption},requiredContainer:{fontSize:e.size.font.caption,marginBottom:e.size.spacing.medium},requiredAsterisk:{color:e.color.ui.error}}),{displayName:"AddReviewForm"}),Xe=Object(n.memo)(({open:e,loading:t,onOpen:o,onClose:a,onSubmit:c,onInputChange:l,onRatingChange:b,formData:u,formDataIsValid:d,onTermsClick:g,requireTitleAndMessage:f})=>{const{t:O}=Object(s.b)(),m=Ke();return Object(n.useEffect)(()=>{e&&(async()=>{Ge||(window.IGLOO=window.IGLOO||{enable_rip:!0,enable_flash:!1,install_flash:!1,loader:{version:"general5",fp_static:!1}},await r.e(99).then(r.bind(null,"ed5c41a60ceeda6f580d")),Ge=!0)})()},[e]),Object(p.c)("form",{onSubmit:c,css:m.root,"data-test":"form",children:[Object(p.c)("div",{css:m.requiredContainer,children:[Object(p.b)("span",{css:m.requiredAsterisk,children:"*"})," ",O("required")]}),Object(p.c)(n.Fragment,{children:[Object(p.b)(Ue,{label:O("enterStarRating"),rating:u.rating,onChange:b,"data-test":"rating",onAddClick:e?void 0:o}),e&&Object(p.c)(p.a,{children:[Object(p.b)(i.bb,{label:Object(p.b)(Je,{label:O("reviewTitle"),required:f,style:m.requiredAsterisk}),value:u.title,id:"title",onChange:l("title"),fullWidth:!0,maxLength:200}),Object(p.b)(i.bb,{label:Object(p.b)(Je,{label:O("reviewMessage"),required:f,style:m.requiredAsterisk}),value:u.message,id:"message",onChange:l("message"),multiline:!0,fullWidth:!0,maxLength:2e3}),Object(p.c)("div",{children:[Object(p.b)(i.h,{type:"submit",disabled:!d||t,loading:t,children:O("submitReview")}),Object(p.b)(i.h,{onClick:a,variant:"link","data-test":"cancel",children:O("cancel")})]}),g&&Object(p.b)("div",{children:Object(p.b)(i.h,{onClick:g,variant:"link",css:m.terms,"data-test":"terms",children:O("termsAndConditions")})})]})]})]})});Xe.defaultProps={open:!1,loading:!1,formData:{title:"",message:"",rating:void 0}},Xe.propTypes={open:c.a.bool,onClose:c.a.func,onOpen:c.a.func,onSubmit:c.a.func,onInputChange:c.a.func.isRequired,onRatingChange:c.a.func.isRequired,formData:c.a.shape({title:c.a.string,message:c.a.string,rating:c.a.number}),formDataIsValid:c.a.bool,onTermsClick:c.a.func,loading:c.a.bool,requireTitleAndMessage:c.a.bool};var Ze=Xe;function et(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?et(Object(r),!0).forEach((function(t){rt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):et(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function rt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const nt={label:"Your Rating"},it=Object(n.memo)(({rating:e,i18n:t})=>{const r=Object(i.ob)(),n=tt(tt({},nt),t),o={label:{fontSize:r.size.font.body,color:r.color.text.primary,marginBottom:r.size.spacing.xxxSmall}};return Object(p.c)("div",{children:[Object(p.b)("div",{css:o.label,children:n.label}),Object(p.b)(i.R,{rating:e,iconSize:36})]})});it.defaultProps={i18n:{}},it.propTypes={i18n:c.a.object,rating:c.a.number.isRequired};var ot=it;function at(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ct(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?at(Object(r),!0).forEach((function(t){st(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):at(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function st(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const lt={title:"",message:"",rating:void 0},bt=Object(i.hb)(e=>({success:{marginTop:e.size.layout.xxSmall},error:{marginBottom:e.size.layout.xSmall}})),ut=Object(n.memo)(e=>{const t=bt(),{t:r}=Object(s.b)(),[o,a]=Object(n.useState)(!1),[c,l]=Object(n.useState)(null),[b,u]=Object(n.useState)(lt),[d,g]=Object(n.useState)(!1),[{error:f,data:O,loading:m},y,j]=Object(i.lb)(t=>e.api.post(t)),h=(({api:e,entityId:t,entityExtId:r,user:o})=>{const a=Object(n.useCallback)(()=>e.getUser({id:t,sku:r,user_ext_id:o.id}),[e,r,t,o.id]),[c,s]=Object(i.lb)(a);return Object(n.useEffect)(()=>{s()},[s]),c})(e),v=Ee.e.selectors.getConfig(),w=Object(n.useCallback)(e=>{if(v.userReviews.requireTitleAndMessage){const{rating:t,title:r,message:n}=e;return!!t&&r.trim().length>0&&n.trim().length>0}return!!e.rating},[v.userReviews.requireTitleAndMessage]);Object(n.useEffect)(()=>{d&&(w(b)?l(null):l(r("validationError")))},[b,d,r,w]);const x=O?b.rating:h.data?h.data.rating:null,P=f?f.message:c;return Object(p.c)("div",{children:[P&&Object(p.b)(i.f,{variant:"error",css:t.error,"data-test":"alert",children:P}),h.loading?Object(p.b)(i.E,{}):x?Object(p.b)(ot,{rating:x,"data-test":"rating"}):Object(p.b)(Ze,{open:o,formData:b,formDataIsValid:!c,onOpen:()=>{e.user.isTrial?e.onLoginRequired():a(!0)},onClose:()=>{a(!1),j(),g(!1),l(null),u(lt)},onSubmit:async t=>{if(t.preventDefault(),g(!0),!w(b))return!1;await y({id:e.entityId,ext_id:e.entityExtId,body:ct(ct({},b),{},{username:e.user.name,user_ext_id:e.user.id,location:e.user.location})})},onInputChange:e=>t=>{u(ct(ct({},b),{},{[e]:t.target.value}))},onRatingChange:(t,r)=>{e.user.isTrial?e.onLoginRequired():(a(!0),u(ct(ct({},b),{},{rating:r})))},onTermsClick:e.onTermsClick,loading:m,requireTitleAndMessage:v.userReviews.requireTitleAndMessage,"data-test":"form"}),!!O&&Object(p.b)(i.f,{variant:"success",css:t.success,"data-test":"alert",children:r("submitSuccess",{time:v.reviewPremoderationTime})})]})});ut.defaultProps={},ut.propTypes=ct({},d);var dt=ut;function pt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function gt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(r),!0).forEach((function(t){ft(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ft(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ot(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function mt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(r),!0).forEach((function(t){yt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ot(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function yt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const jt=Object(i.hb)(e=>({root:{color:e.color.text.primary,lineHeight:e.size.lineHeight.body},row:{marginBottom:e.size.layout.xxSmall,[i.pb.mediaQuery.minWidth(e.breakpoint.medium)]:{display:"flex",marginLeft:-e.size.spacing.xxSmall,marginRight:-e.size.spacing.xxSmall}},col:{[i.pb.mediaQuery.minWidth(e.breakpoint.medium)]:{flex:"1 1 auto",marginLeft:e.size.spacing.xxSmall,marginRight:e.size.spacing.xxSmall}},stats:{marginBottom:e.size.layout.xSmall,[i.pb.mediaQuery.minWidth(e.breakpoint.medium)]:{flex:"0 0 30%",marginBottom:0}},loading:{padding:e.size.spacing.small,height:e.size.input.height.regular,boxSizing:"content-box",display:"flex",alignItems:"center",justifyContent:"center"}})),ht=Object(n.memo)(e=>{const t=jt(),{userReviews:r}=Object(o.b)(),[a,c]=Object(n.useState)(r.defaultSort),[s,l]=Object(n.useState)(0),{error:b,data:u,loading:d}=(({api:e,entityId:t,entityExtId:r,sortBy:i,perPage:o,offset:a})=>{const[c,s]=Object(n.useState)(!1),[l,b]=Object(n.useState)(null),[u,d]=Object(n.useState)(null),p=Object(n.useRef)(a),g=Object(n.useCallback)(async()=>{const n={id:t,ext_id:r,limit:o,offset:a,sortBy:i};try{s(!0),d(null);const t=await e.get(n);b(e=>{let r=t;return e&&a>p.current&&(r=mt(mt({},e),{},{reviews:e.reviews.concat(t.reviews)})),p.current=a,r})}catch(e){d(e)}finally{s(!1)}},[e,r,t,a,o,i]);return Object(n.useEffect)(()=>{g()},[g]),{loading:c,data:l,error:u}})(mt(mt({},e),{},{sortBy:a,offset:s}));return Object(p.c)("div",{css:t.root,children:[Object(p.c)("div",{css:t.row,children:[Object(p.c)("div",{css:t.col,children:[Object(p.b)(_e,{rating:u&&u.rating?u.rating:void 0}),Object(p.b)(dt,mt({},e))]}),Object(p.b)("div",{css:[t.col,t.stats],children:u&&u.rating_distribution.length>0&&Object(p.b)(Pe,{ratingDistribution:u.rating_distribution})})]}),u&&Object(p.b)(de,{reviews:u.reviews,totalCount:u.total_reviews,onShowAllClick:e.onShowAllClick?t=>{((e,t)=>{Ee.a.log({event:"event",data:{segmentData:{segmentArgs:{id:e.entityId,ext_id:e.entityExtId,review_count:t.total_reviews,review_type:e.reviewType}},segmentName:"store.view_all_user_reviews"}})})(e,u),e.onShowAllClick(t)}:void 0,sortBy:a,onSortChange:t=>{l(0),c(t.value),((e,t)=>{Ee.a.log({event:"event",data:{segmentData:{segmentArgs:gt({id:e.entityId,ext_id:e.entityExtId,review_type:e.reviewType},t)},segmentName:"store.sort_user_reviews"}})})(e,a)},perPage:e.perPage,onMoreClick:e.showPaging?()=>{l(s+e.perPage),((e,t,r)=>{Ee.a.log({event:"event",data:{segmentData:{segmentArgs:{id:e.entityId,ext_id:e.entityExtId,review_count:t.total_reviews,per_page:e.perPage,offset:r+e.perPage,review_type:e.reviewType}},segmentName:"store.view_more_user_reviews"}})})(e,u,s)}:void 0,loading:d}),d?Object(p.b)(i.E,{css:t.loading}):b?Object(p.b)(i.f,{variant:"error","data-test":"alert",children:b.message}):null]})});ht.defaultProps={perPage:5,showPaging:!0},ht.propTypes=mt({},d);var vt=ht,wt=r("a1c08ed12dcec795f75d"),xt=r("af77ccdd5d7224c88821");var Pt=()=>{wt.a.use(s.a).init({lng:"en",fallbackLng:"en"}),wt.a.addResourceBundle("en","translation",xt)};function St(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Rt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?St(Object(r),!0).forEach((function(t){kt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):St(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function kt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var zt=class{constructor(e){this.endpoint=e.endpoint,this.type=e.type}getEndpoint(){return this.endpoint}async get(e){if(!(e&&e.id&&e.ext_id))throw new Error("id and/or ext_id not provided");const t={sort:e.sortBy.sort,limit:e.limit,offset:e.offset,order:e.sortBy.order};"products"===this.type&&(t.sku=e.ext_id);const r={querystring:t};return(await Ee.v.request(`/${this.endpoint}/${e.id}/review`,r)).user_reviews}async post(e){if(!(e&&e.id&&e.ext_id&&e.body))throw new Error("id, ext_id and/or body not provided");const t=await Ve(),r={};"products"===this.type&&(r.sku=e.ext_id);const{body:n}=e,i={querystring:r,method:"POST",body:Rt(Rt({},n),{},{fingerprint:t})},o=await Ee.v.request(`/${this.endpoint}/${e.id}/review/create`,i);var a,c,s;return o.success&&(a=e,c=n,s=this.type,Ee.a.log({event:"event",data:{segmentData:{segmentArgs:gt({id:a.id,ext_id:a.ext_id,review_type:s},c)},segmentName:"store.add_user_review"}})),o}async getUser(e={}){if(!(e.id&&e.sku&&e.user_ext_id))throw new Error("id, sku, and user_ext_id is required.");const t={querystring:{user_ext_id:e.user_ext_id}};return"products"===this.type&&(t.querystring.sku=e.sku),(await Ee.v.request(`/${this.endpoint}/${e.id}/review/user`,t)).user_review}};function Dt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ct(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(r),!0).forEach((function(t){_t(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _t(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Pt();const Et={products:"store_products",recipes:"recipes"},qt=Object(n.memo)(e=>{const t=Et[e.reviewType],r=new zt({endpoint:t,type:e.reviewType}),i=Ct(Ct({},e),{},{api:r});return Object(p.b)(n.Suspense,{fallback:"Loading...",children:Object(p.b)(vt,Ct({},i))})});qt.defaultProps={reviewType:"products"},qt.propTypes=Ct({},d);var Tt=qt},af62fe3526ca043868d8:function(e,t,r){"use strict";var n=r("644b5167db1b400480ed");const i=Object(n.a)("rating",{filled:"brandPrimaryRegular"});var o=r("2befd5a067fda4f72081"),a=r("872187f76c7f41717359"),c=r("9a0b4e03ea3c43527074");function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const u=["unfilled","filled"],d=Object(n.b)((e,t)=>({filled:{fill:e.colors[t.filled]},icon:{height:"1em",width:"1em"},icons:{":nth-of-type(2)":{overflow:"hidden"},left:0,position:"absolute"},root:{height:"1em",position:"relative",whiteSpace:"nowrap",width:"5em"},unfilled:{fill:e.colors.systemGrayscale30}}),i),p={focusable:"false",pointerEvents:"none",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"};t.a=({rating:e,iconSize:t=24})=>{const r=d(),n=Object(a.d)(),i=+e.toFixed(2);let s=e;e>5?s=5:e<0&&(s=0);const b={width:`${g=s,f=5,g?`${g/f*100}%`:"0%"}`};var g,f;const O=l(l({},r.root),{},{fontSize:t});return Object(c.b)("div",{css:O,"aria-label":o.g.interpolate(n.rating,{maxRating:5,rating:i}),children:u.map(e=>Object(c.b)("div",{css:[r.icons,"filled"===e&&b],children:[...Array(5).keys()].map(t=>Object(c.b)("svg",l(l({},p),{},{css:[r.icon,r[e]],"aria-hidden":"true",children:Object(c.b)("g",{children:Object(c.b)("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})})}),t))},e))})}},af77ccdd5d7224c88821:function(e){e.exports=JSON.parse('{"addReview":"Add Review","averageRating":"{{rating}}","averageRatingAndCount":"{{rating}} ({{total}})","cancel":"Cancel","enterStarRating":"Enter Star Rating","heading":"Reviews","highestRated":"Sort By Highest Rated","lowestRated":"Sort by the Lowest Rated","moreReviews":"{{count}} more review","moreReviews_plural":"{{count}} more reviews","mostRecent":"Sort By Most Recent","noResults":"No reviews for this product yet.","pagedReviewsCount":"{{start}}-{{end}} of {{total}} Reviews","ratingCount":"({{total}})","required":"Required","reviewMessage":"Tell Us What You Thought","reviewTitle":"Review Title","reviewsCount":"Reviews: {{count}}","showAll":"See all reviews","sort":"Sort","submitError":"Error adding review","submitReview":"Submit Review","submitSuccess":"Thank you for rating! Please note reviews may take up to {{time}} before they are published.","termsAndConditions":"Terms & Conditions","validationError":"Please complete all required fields"}')}}]);